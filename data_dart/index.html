<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dart QuickType Pro</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet"
        id="theme-link">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1e1e2e 0%, #2a1a3d 100%);
            color: #e0e0e0;
            overflow-y: outo;
            overflow-x: hidden;
            /* max-height: 100vh; */
        }

        .navbar {
            background: linear-gradient(90deg, #1a1a2e 0%, #2d1b3d 100%);
            padding: 1rem 2rem;
            border-bottom: 2px solid #3d2f5a;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3)
        }

        .navbar-brand {
            color: #fff;
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 1px
        }

        .nav-badge {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: #fff;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 0.5rem;
            display: inline-block
        }

        .main-container {
            /* display: flex; */
            height: calc(100vh - 70px)
        }

        .content-area {
            flex: 1;
            display: flex;
            gap: 0
        }

        .panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 1.5rem;
            overflow: hidden
        }

        .panel.input-panel {
            background: rgba(30, 30, 46, 0.8);
            backdrop-filter: blur(10px);
            border-right: 2px solid #3d2f5a;
            overflow-y: auto
        }

        .panel.output-panel {
            background: rgba(30, 30, 46, 0.8);
            backdrop-filter: blur(10px)
        }

        .panel-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem
        }

        .panel h2 {
            font-size: 1.4rem;
            color: #fff;
            font-weight: 600;
            margin: 0
        }

        .panel-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem
        }

        .theme-selector {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
            background: rgba(52, 58, 64, 0.6);
            padding: 0.75rem;
            border-radius: 10px;
            border: 1px solid #495057
        }

        .theme-selector label {
            color: #e0e0e0;
            font-size: 0.9rem;
            font-weight: 500;
            white-space: nowrap
        }

        .form-control,
        .theme-select {
            background: rgba(52, 58, 64, 0.8);
            border: 1px solid #495057;
            color: #fff;
            padding: 0.65rem 0.9rem;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: all 0.3s ease
        }

        .theme-select {
            cursor: pointer;
            flex: 1
        }

        .form-control {
            margin-bottom: 1rem;
            width: 100%
        }

        .form-control:focus,
        .theme-select:focus {
            outline: 0;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2)
        }

        .theme-select option {
            background: #343a40;
            color: #fff
        }

        .checkboxes-section {
            margin: 1rem 0;
            background: rgba(52, 58, 64, 0.4);
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid #495057
        }

        .section-title {
            font-size: 0.85rem;
            color: #adb5bd;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.75rem;
            font-weight: 600
        }

        .checkbox-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.65rem;
            margin-bottom: 0.65rem
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            background: rgba(73, 80, 87, 0.3);
            padding: 0.6rem 0.75rem;
            border-radius: 6px;
            transition: all 0.2s ease
        }

        .checkbox-item:hover {
            background: rgba(73, 80, 87, 0.5);
            transform: translateX(2px)
        }

        .checkbox-item input[type=checkbox] {
            width: 1.1rem;
            height: 1.1rem;
            cursor: pointer;
            accent-color: #667eea;
            flex-shrink: 0
        }

        .checkbox-item label {
            color: #e0e0e0;
            font-size: 0.88rem;
            cursor: pointer;
            user-select: none;
            display: flex;
            align-items: center;
            gap: 0.3rem
        }

        .code {
            color: #00d4ff;
            font-family: 'Fira Code', Consolas, monospace;
            font-size: 0.82rem;
            background: rgba(0, 212, 255, 0.1);
            padding: 0.15rem 0.4rem;
            border-radius: 3px
        }

        .tooltip {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 16px;
            height: 16px;
            border: 1px solid #667eea;
            border-radius: 50%;
            font-size: 10px;
            color: #667eea;
            cursor: help;
            margin-left: 0.25rem;
            background: rgba(102, 126, 234, 0.1)
        }

        .tooltip-text {
            visibility: hidden;
            position: absolute;
            bottom: 130%;
            left: 50%;
            transform: translateX(-50%);
            background: #1a1d20;
            color: #fff;
            padding: 0.6rem;
            border-radius: 6px;
            border: 1px solid #667eea;
            width: 240px;
            font-size: 0.75rem;
            z-index: 1000;
            white-space: normal;
            text-align: left;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5)
        }

        .tooltip:hover .tooltip-text {
            visibility: visible
        }

        .editor-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0
        }

        .editor {
            flex: 1;
            background: rgba(30, 30, 30, 0.9);
            border: 1px solid #495057;
            color: #d4d4d4;
            padding: 1.2rem;
            font-family: 'Fira Code', Consolas, Monaco, monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            resize: none;
            outline: 0;
            overflow: auto;
            border-radius: 8px;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3)
        }

        .editor:focus {
            border-color: #667eea;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3), 0 0 0 3px rgba(102, 126, 234, 0.2)
        }

        #dart-output-pre,
        #dio-output-pre {
            flex: 1;
            background: rgba(30, 30, 30, 0.9);
            border: 1px solid #495057;
            overflow: auto;
            margin: 0;
            display: none;
            border-radius: 8px;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3)
        }

        #dart-output-pre.active,
        #dio-output-pre.active {
            display: block
        }

        #dart-output.hidden,
        #dio-output.hidden {
            display: none
        }

        pre[class*=language-] {
            background: rgba(30, 30, 30, 0.9) !important;
            margin: 0;
            padding: 1.2rem;
            height: 100%
        }

        code[class*=language-] {
            color: #d4d4d4;
            font-family: 'Fira Code', Consolas, Monaco, monospace;
            font-size: 0.9rem;
            line-height: 1.6
        }

        .btn-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
            margin-top: 1rem
        }

        .btn {
            padding: 0.8rem;
            border: none;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s
        }

        .btn:hover::before {
            width: 300px;
            height: 300px
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3)
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4)
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: #fff;
            box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3)
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(245, 87, 108, 0.4)
        }

        .btn-full {
            width: 100%;
            grid-column: 1 / -1
        }

        .tabs-container {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            background: rgba(52, 58, 64, 0.4);
            padding: 0.5rem;
            border-radius: 10px;
            border: 1px solid #495057
        }

        .tab-btn {
            flex: 1;
            padding: 0.65rem;
            border: none;
            background: transparent;
            color: #adb5bd;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3)
        }

        .tab-btn:hover:not(.active) {
            background: rgba(73, 80, 87, 0.5);
            color: #fff
        }

        .tab-content {
            display: none;
            flex: 1;
            flex-direction: column;
            min-height: 0
        }

        .tab-content.active {
            display: flex
        }

        .dio-section {
            background: rgba(52, 58, 64, 0.4);
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid #495057;
            margin-bottom: 1rem
        }

        .dio-input-group {
            margin-bottom: 0.75rem
        }

        .dio-input-group label {
            display: block;
            color: #adb5bd;
            font-size: 0.85rem;
            margin-bottom: 0.4rem;
            font-weight: 500
        }

        .dio-input-group input,
        .dio-input-group select {
            width: 100%;
            background: rgba(52, 58, 64, 0.8);
            border: 1px solid #495057;
            color: #fff;
            padding: 0.6rem 0.8rem;
            border-radius: 6px;
            font-size: 0.9rem;
            transition: all 0.3s ease
        }

        .dio-input-group input:focus,
        .dio-input-group select:focus {
            outline: 0;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2)
        }

        .method-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
            margin-bottom: 0rem
        }

        .method-btn {
            padding: 0.7rem;
            border: 2px solid;
            background: transparent;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px
        }

        .method-btn.get {
            border-color: #00c853;
            color: #00c853
        }

        .method-btn.get:hover,
        .method-btn.get.active {
            background: #00c853;
            color: #fff;
            box-shadow: 0 4px 15px rgba(0, 200, 83, 0.3)
        }

        .method-btn.post {
            border-color: #2196f3;
            color: #2196f3
        }

        .method-btn.post:hover,
        .method-btn.post.active {
            background: #2196f3;
            color: #fff;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3)
        }

        .method-btn.put {
            border-color: #ff9800;
            color: #ff9800
        }

        .method-btn.put:hover,
        .method-btn.put.active {
            background: #ff9800;
            color: #fff;
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3)
        }

        .method-btn.delete {
            border-color: #f44336;
            color: #f44336
        }

        .method-btn.delete:hover,
        .method-btn.delete.active {
            background: #f44336;
            color: #fff;
            box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3)
        }

        ::-webkit-scrollbar {
            width: 12px;
            height: 12px
        }

        ::-webkit-scrollbar-track {
            background: rgba(33, 33, 33, 0.5);
            border-radius: 10px
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%)
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px)
            }

            to {
                opacity: 1;
                transform: translateY(0)
            }
        }

        .panel {
            animation: slideIn 0.3s ease
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #00c853 0%, #00e676 100%);
            color: #fff;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 200, 83, 0.3);
            z-index: 9999;
            opacity: 0;
            transform: translateX(400px);
            transition: all 0.3s ease;
            font-weight: 500
        }

        .notification.show {
            opacity: 1;
            transform: translateX(0)
        }

        .dio-scrollable {
            max-height: calc(100vh - 400px);
            overflow-y: auto;
            overflow-x: hidden;
            padding-right: 0.5rem
        }

        /* التعديلات الجديدة لزيادة حجم منطقة إدخال JSON وعرض الكود */
        .json-input-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0;
            margin-top: 1rem
        }

        #json-input {
            flex: 1;
            min-height: 300px;
            height: auto;
            background: rgba(30, 30, 30, 0.9);
            border: 1px solid #495057;
            color: #d4d4d4;
            padding: 1.2rem;
            font-family: 'Fira Code', Consolas, Monaco, monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            resize: none;
            outline: 0;
            overflow: auto;
            border-radius: 8px;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3)
        }

        #json-input:focus {
            border-color: #667eea;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3), 0 0 0 3px rgba(102, 126, 234, 0.2)
        }

        .input-panel {
            display: flex;
            flex-direction: column;
            height: 100%
        }

        .input-config {
            flex-shrink: 0
        }

        .json-input-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0
        }

        /* تحسينات لمنطقة عرض الكود المولد */
        .output-code-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0
        }

        .output-code-area {
            flex: 1;
            min-height: 400px;
            height: auto;
            background: rgba(30, 30, 30, 0.9);
            border: 1px solid #495057;
            color: #d4d4d4;
            padding: 1.2rem;
            font-family: 'Fira Code', Consolas, Monaco, monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            resize: none;
            outline: 0;
            overflow: auto;
            border-radius: 8px;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3)
        }

        .output-code-area:focus {
            border-color: #667eea;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3), 0 0 0 3px rgba(102, 126, 234, 0.2)
        }

        .output-panel {
            display: flex;
            flex-direction: column;
            height: 100%
        }

        .output-header {
            flex-shrink: 0
        }

        .output-code-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0
        }

        /* تحسينات خاصة بمنطقة Dio */
        .dio-config-section {
            flex-shrink: 0;
            max-height: 40%;
            overflow-y: auto
        }

        .dio-code-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0
        }
    </style>
</head>

<body>
    <div class="notification" id="notification"></div>
    <nav class="navbar">
        <div><span class="navbar-brand">JSON TO DART</span><span class="nav-badge">PRO</span></div>
    </nav>
    <div class="main-container">
        <div class="content-area">
            <div class="panel input-panel">
                <div class="input-config">
                    <div class="panel-header">
                        <div class="panel-icon">⚡</div>
                        <h2>Configuration</h2>
                    </div>
                    <div class="theme-selector"><label for="theme-select">🎨 Theme:</label><select id="theme-select"
                            class="theme-select">
                            <option value="tomorrow">VS Code Dark</option>
                            <option value="dracula">Dracula</option>
                            <option value="monokai">Monokai</option>
                            <option value="solarized">Solarized Dark</option>
                            <option value="nord">Nord</option>
                            <option value="night-owl">Night Owl</option>
                        </select></div>
                    <label
                        style="color: #adb5bd; font-size: 0.85rem; margin-bottom: 0.4rem; display: block; font-weight: 500">📦
                        Class Name</label>
                    <input type="text" id="class-name" class="form-control" value="User"
                        placeholder="Enter class name...">
                    <div class="checkboxes-section">
                        <div class="section-title">🔧 Model Options</div>
                        <div class="checkbox-row">
                            <div class="checkbox-item"><input type="checkbox" id="gen-json" checked><label
                                    for="gen-json">Generate <span class="code">toJson</span></label></div>
                            <div class="checkbox-item"><input type="checkbox" id="use-serializable"><label
                                    for="use-serializable">Use <span class="code">JSONSerializable</span></label></div>
                        </div>
                        <div class="checkbox-row">
                            <div class="checkbox-item"><input type="checkbox" id="gen-cpy"><label for="gen-cpy">Generate
                                    <span class="code">copyWith</span></label></div>
                            <div class="checkbox-item"><input type="checkbox" id="use-equatable"><label
                                    for="use-equatable">Use <span class="code">Equatable</span></label></div>
                        </div>
                        <div class="checkbox-row">
                            <div class="checkbox-item"><input type="checkbox" id="gen-ts"><label for="gen-ts">Generate
                                    <span class="code">toString</span></label></div>
                            <div class="checkbox-item"><input type="checkbox" id="use-default" checked><label
                                    for="use-default">Use default value<span class="tooltip">ⓘ<span
                                            class="tooltip-text">Makes properties non-nullable with default
                                            values</span></span></label></div>
                        </div>
                        <div class="checkbox-row">
                            <div class="checkbox-item"><input type="checkbox" id="gen-key"><label for="gen-key">Generate
                                    JSON keys</label></div>
                            <div class="checkbox-item"><input type="checkbox" id="gen-comment"><label
                                    for="gen-comment">Generate json as comment</label></div>
                        </div>
                        <div class="checkbox-row">
                            <div class="checkbox-item"><input type="checkbox" id="use-num"><label for="use-num">Always
                                    use <span class="code">num</span> type</label></div>
                            <div class="checkbox-item"><input type="checkbox" id="use-base-model"><label
                                    for="use-base-model">Use Base Model<span class="tooltip">ⓘ<span
                                            class="tooltip-text">Extend from Model with helper
                                            methods</span></span></label></div>
                        </div>
                    </div>
                    <div class="checkboxes-section">
                        <div class="section-title">🌐 Dio API Options</div>
                        <div class="checkbox-row">
                            <div class="checkbox-item"><input type="checkbox" id="gen-dio"><label for="gen-dio">Generate
                                    <span class="code">Dio</span> Service</label></div>
                            <div class="checkbox-item"><input type="checkbox" id="gen-error" checked><label
                                    for="gen-error">Error Handling<span class="tooltip">ⓘ<span class="tooltip-text">Add
                                            try-catch with DioException</span></span></label></div>
                        </div>
                        <div class="checkbox-row">
                            <div class="checkbox-item"><input type="checkbox" id="gen-loading"><label
                                    for="gen-loading">Loading Example</label></div>
                            <div class="checkbox-item"><input type="checkbox" id="gen-interceptor"><label
                                    for="gen-interceptor">Add Interceptors</label></div>
                        </div>
                    </div>
                </div>
                <div class="json-input-section">
                    <label
                        style="color: #adb5bd; font-size: 0.85rem; margin-bottom: 0.4rem; display: block; font-weight: 500">📝
                        JSON Input</label>
                    <div class="json-input-container">
                        <textarea id="json-input" placeholder="Paste your JSON here..."></textarea>
                        <button id="convert-btn" class="btn btn-primary btn-full">🚀 Generate Code</button>
                    </div>
                </div>
            </div>
            <div class="panel output-panel">
                <div class="output-header">
                    <div class="panel-header">
                        <div class="panel-icon">💎</div>
                        <h2>Generated Code</h2>
                    </div>
                    <div class="tabs-container"><button class="tab-btn active" data-tab="model">📦 Model</button><button
                            class="tab-btn" data-tab="dio">🌐 Dio Service</button></div>
                </div>
                <div class="tab-content active" data-content="model">
                    <div class="output-code-section">
                        <div class="output-code-container">
                            <textarea id="dart-output" class="output-code-area hidden" readonly></textarea>
                            <pre id="dart-output-pre"
                                class="output-code-area"><code id="dart-code" class="language-dart"></code></pre>
                            <div class="btn-group">
                                <button id="copy-btn" class="btn btn-primary">📋 Copy Model</button>
                                <button id="download-btn" class="btn btn-secondary">💾 Download</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-content" data-content="dio">
                    <div class="dio-config-section">
                        <div class="dio-scrollable">
                            <div class="dio-section">
                                <div class="dio-input-group"><label>🔗 Base URL</label><input type="text" id="base-url"
                                        placeholder="https://api.example.com"
                                        value="https://jsonplaceholder.typicode.com"></div>
                                <div class="dio-input-group"><label>📍 Endpoint</label><input type="text" id="endpoint"
                                        placeholder="/users" value="/users"></div>
                                <div class="dio-input-group"><label>🎯 Select HTTP Methods</label>
                                    <div class="method-buttons"><button class="method-btn get active"
                                            data-method="get">GET</button><button class="method-btn post active"
                                            data-method="post">POST</button><button class="method-btn put active"
                                            data-method="put">PUT</button><button class="method-btn delete active"
                                            data-method="delete">DELETE</button></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="dio-code-section">
                        <div class="output-code-container">
                            <textarea id="dio-output" class="output-code-area hidden" readonly></textarea>
                            <pre id="dio-output-pre"
                                class="output-code-area"><code id="dio-code" class="language-dart"></code></pre>
                            <div class="btn-group">
                                <button id="copy-dio-btn" class="btn btn-primary">📋 Copy Service</button>
                                <button id="download-dio-btn" class="btn btn-secondary">💾 Download</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-dart.min.js"></script>
    <script>
        class G { constructor() { this.reset() } reset() { this.r = new Map; this.g = []; this.u = new Set; this.s = new Map; this.o = "" } async gen(e, t, s = {}) { try { this.reset(), this.o = t; const a = JSON.parse(t), n = Array.isArray(a) ? a.length > 0 ? a[0] : {} : a; return this.proc(e, n, s), this.out(s) } catch (e) { throw new Error("Invalid JSON: " + e.message) } } proc(e, t, s) { const a = [{ c: e, o: t }], n = new Map; for (; a.length > 0;) { const { c: e, o: t } = a.shift(); if (!t || "object" != typeof t || Array.isArray(t)) continue; const r = this.sid(t); if (n.has(r)) continue; const i = this.uc(e); n.set(r, i), this.s.set(r, i), this.u.add(i); const o = []; Object.entries(t).forEach((([e, t]) => { if (this.iv(e)) { const r = this.tc(e), l = this.ap(e, t, i, n, a, s); o.push({ ...l, n: r, j: e }) } })), this.g.push({ n: i, p: o, s: r }), this.r.set(i, { n: i, p: o }) } } ap(e, t, s, a, n, r) { if (null === t) return { d: "dynamic", v: null }; if ("string" == typeof t) return { d: "String", v: '""' }; if ("boolean" == typeof t) return { d: "bool", v: "false" }; if ("number" == typeof t) return r.useNum ? { d: "num", v: "0" } : { d: Number.isInteger(t) ? "int" : "double", v: Number.isInteger(t) ? "0" : "0.0" }; if (Array.isArray(t)) { if (0 === t.length) return { d: "List<dynamic>", v: "[]" }; const r = t[0]; if ("object" == typeof r && null !== r) { const t = this.sid(r); if (a.has(t)) return { d: `List<${a.get(t)}>`, v: "[]" }; const i = this.nc(e, s); return n.push({ c: i, o: r }), { d: `List<${i}>`, v: "[]" } } return { d: `List<${this.st(r, r)}>`, v: "[]" } } if ("object" == typeof t) { const r = this.sid(t); if (a.has(r)) return { d: a.get(r), v: null }; const i = this.nc(e, s); return n.push({ c: i, o: t }), { d: i, v: null } } return { d: "dynamic", v: null } } nc(e, t) { let s = this.cap(this.tc(e)); const a = e.toLowerCase(); if ("data" === a) return "Datum"; if (["links", "attributes", "relationships"].includes(a)) return t + this.cap(e); if (["author", "user", "profile", "meta", "config", "settings"].includes(a)) return this.cap(e); return s.endsWith("ies") && s.length > 4 ? s = s.slice(0, -3) + "y" : s.match(/(ses|ches|shes|xes)$/) ? s = s.slice(0, -2) : s.endsWith("s") && !s.endsWith("ss") && s.length > 3 && (s = s.slice(0, -1)), s } out(e) { let t = this.imp(e); return this.g.forEach(((s, a) => { a > 0 && (t += "\n\n"), t += this.cls(s, e) })), e.generateComment && (t += "\n\n" + this.jc()), t } imp(e) { const t = []; return e.useBaseModel ? t.push("import 'base.dart';") : (e.useSerializable && t.push("import 'package:json_annotation/json_annotation.dart';"), e.useEquatable && t.push("import 'package:equatable/equatable.dart';"), e.useSerializable && (t.push(""), t.push("part 'model.g.dart';"))), t.length > 0 ? t.join("\n") + "\n\n" : "" } cls(e, t) { return t.useBaseModel ? this.bm(e, t) : this.std(e, t) } bm(e, t) { const { n: s, p: a } = e; let n = `class ${s} extends Model {\n`; a.forEach((e => { n += `    late ${e.d} ${e.n};\n` })), n += `\n    ${s}.fromJson([Map<String, dynamic>? json]) {\n`; const r = a.some((e => "id" === e.n)); return r || (n += '        id = stringFromJson(json, "id");\n'), a.forEach((e => { n += `        ${e.n} = ${this.bh(e, t)};\n` })), n += "    }\n", t.generateToJson && (n += "\n    @override\n    Map<String, dynamic> toJson() => {\n", r || (n += '        "id": id,\n'), a.forEach((e => { n += `        "${e.j}": ${this.tv(e)},\n` })), n += "    };\n"), n += "\n}", n } bh(e, t) { const { d: s, j: a, v: n } = e; if ("String" === s) return t.useDefaultValue && n ? `stringFromJson(json, "${a}") ?? ${n}` : `stringFromJson(json, "${a}")`; if ("int" === s) return t.useDefaultValue && n ? `intFromJson(json, "${a}") ?? ${n}` : `intFromJson(json, "${a}")`; if ("double" === s) return t.useDefaultValue && n ? `doubleFromJson(json, "${a}") ?? ${n}` : `doubleFromJson(json, "${a}")`; if ("bool" === s) return t.useDefaultValue && n ? `boolFromJson(json, "${a}") ?? ${n}` : `boolFromJson(json, "${a}")`; if (s.startsWith("List<")) { const e = s.match(/List<(.+)>/)[1]; return this.ipt(e) ? `(json?["${a}"] as List?)?.cast<${e}>() ?? []` : `listFromJson(json, "${a}", callback: (e) => ${e}.fromJson(e))` } return `${s}.fromJson(json?["${a}"])` } std(e, t) { const { n: s, p: a } = e; let n = ""; t.useSerializable && (n += "@JsonSerializable()\n"); const r = t.useEquatable ? " extends Equatable" : ""; n += `class ${s}${r} {\n`, n += `    ${s}({\n`, a.forEach((e => { const s = t.useDefaultValue ? "" : "required "; n += `        ${s}this.${e.n},\n` })), n += "    });\n\n", a.forEach(((e, i) => { t.generateKeys && t.useSerializable && (n += `    @JsonKey(name: '${e.j}')\n`); const s = t.useDefaultValue ? "" : "?"; n += `    final ${e.d}${s} ${e.n};\n`, i < a.length - 1 && (n += "\n") })), n += "\n", n += this.fj(s, a, t), t.generateToJson && (n += "\n" + this.tj(s, a, t)), t.generateCopyWith && (n += "\n" + this.cw(s, a, t)), t.generateToString && (n += "\n" + this.ts(s, a, t)), n += "\n}"; return n } fj(e, t, s) { if (s.useSerializable) return `    factory ${e}.fromJson(Map<String, dynamic> json) => _${e}FromJson(json);\n`; let a = `    factory ${e}.fromJson(Map<String, dynamic> json){ \n`; return a += `        return ${e}(\n`, t.forEach((e => { a += `            ${e.n}: ${this.fv(e, s)},\n` })), a += "        );\n    }\n", a } fv(e, t) { const { d: s, j: a, v: n } = e; if (s.startsWith("List<")) { const e = s.match(/List<(.+)>/)[1]; return this.ipt(e) ? `json["${a}"] == null ? [] : List<${e}>.from(json["${a}"])` : `json["${a}"] == null ? [] : List<${e}>.from(json["${a}"]!.map((x) => ${e}.fromJson(x)))` } return this.ipt(s) ? t.useDefaultValue && n ? `json["${a}"] ?? ${n}` : `json["${a}"]` : `json["${a}"] == null ? null : ${s}.fromJson(json["${a}"])` } tj(e, t, s) { if (s.useSerializable) return `    Map<String, dynamic> toJson() => _${e}ToJson(this);\n`; let a = "    Map<String, dynamic> toJson() => {\n"; return t.forEach((e => { a += `        "${e.j}": ${this.tv(e, s.useDefaultValue)},\n` })), a += "    };\n", a } tv(e, t = !1) { const { d: s, n: a } = e; if (s.startsWith("List<")) { const e = s.match(/List<(.+)>/)[1]; return this.ipt(e) ? a : t ? `${a}.map((x) => x.toJson()).toList()` : `${a}?.map((x) => x.toJson()).toList()` } return this.ipt(s) ? a : t ? `${a}.toJson()` : `${a}?.toJson()` } cw(e, t, s) { let a = `    ${e} copyWith({\n`; return t.forEach((e => { const t = s.useDefaultValue ? "" : "?"; a += `        ${e.d}${t} ${e.n},\n` })), a += `    }) => ${e}(\n`, t.forEach((e => { a += `        ${e.n}: ${e.n} ?? this.${e.n},\n` })), a += "    );\n", a } ts(e, t, s) { if (s.useEquatable) { const e = t.map((e => e.n)).join(", "); return `    @override\n    List<Object?> get props => [${e}];\n` } const a = t.map((e => `${e.n}: \${e.n}`)).join(", "); return `    @override\n    String toString() => '${e}(${a})';\n` } jc() { return JSON.stringify(JSON.parse(this.o), null, 2).split("\n").map((e => "// " + e)).join("\n") } sid(e) { return Object.keys(e).sort().map((t => { const s = e[t]; let a = typeof s; return Array.isArray(s) ? a = s.length > 0 && "object" == typeof s[0] ? "array_object" : "array_primitive" : "object" === a && null !== s && (a = "object"), `${t}:${a}` })).join("|") } st(e, t) { return "string" == typeof e ? "String" : "boolean" == typeof e ? "bool" : "number" == typeof e ? t && t.useNum ? "num" : Number.isInteger(e) ? "int" : "double" : "dynamic" } ipt(e) { return ["String", "int", "double", "bool", "num", "dynamic"].includes(e) } uc(e) { let t = this.cap(this.tc(e)), s = 1; for (; this.u.has(t);)t = this.cap(this.tc(e)) + s++; return t } iv(e) { return /^[a-zA-Z_][a-zA-Z0-9_]*$/.test(e) } tc(e) { return e.replace(/_([a-z])/g, ((e, t) => t.toUpperCase())) } cap(e) { return e.charAt(0).toUpperCase() + e.slice(1) } }

        class DioGenerator { constructor() { this.selectedMethods = new Set(['get', 'post', 'put', 'delete']) } generateService(className, options) { const baseUrl = $('#base-url').val() || 'https://api.example.com'; const endpoint = $('#endpoint').val() || '/users'; const serviceName = className + 'Service'; let code = `import 'package:dio/dio.dart';\nimport '${className.toLowerCase()}.dart';\n\n`; if (options.generateError) { code += `/// Custom exception for API errors\n`; code += `class ApiException implements Exception {\n`; code += `  final String message;\n`; code += `  final int? statusCode;\n`; code += `  final dynamic data;\n\n`; code += `  ApiException(this.message, {this.statusCode, this.data});\n\n`; code += `  @override\n`; code += `  String toString() => 'ApiException: \$message (Status: \$statusCode)';\n`; code += `}\n\n` } code += `/// Service class for ${className} API operations\n`; code += `/// Using Dio package: https://pub.dev/packages/dio\n`; code += `class ${serviceName} {\n`; code += `  late final Dio _dio;\n\n`; code += `  ${serviceName}({Dio? dio}) {\n`; code += `    _dio = dio ?? Dio(BaseOptions(\n`; code += `      baseUrl: '${baseUrl}',\n`; code += `      connectTimeout: const Duration(seconds: 30),\n`; code += `      receiveTimeout: const Duration(seconds: 30),\n`; code += `      headers: {\n`; code += `        'Content-Type': 'application/json',\n`; code += `        'Accept': 'application/json',\n`; code += `      },\n`; code += `    ));\n`; if (options.generateInterceptor) { code += `\n    // Add interceptors for logging and error handling\n`; code += `    _dio.interceptors.add(InterceptorsWrapper(\n`; code += `      onRequest: (options, handler) {\n`; code += `        print('[\${options.method}] \${options.uri}');\n`; code += `        return handler.next(options);\n`; code += `      },\n`; code += `      onResponse: (response, handler) {\n`; code += `        print('[\${response.statusCode}] \${response.requestOptions.uri}');\n`; code += `        return handler.next(response);\n`; code += `      },\n`; code += `      onError: (error, handler) {\n`; code += `        print('ERROR: \${error.message}');\n`; code += `        return handler.next(error);\n`; code += `      },\n`; code += `    ));\n` } code += `  }\n\n`; if (this.selectedMethods.has('get')) { code += `  /// Fetch all ${className}s\n`; code += `  Future<List<${className}>> getAll() async {\n`; if (options.generateError) { code += `    try {\n`; code += `      final response = await _dio.get('${endpoint}');\n`; code += `      \n`; code += `      if (response.statusCode == 200) {\n`; code += `        final List<dynamic> data = response.data is List \n`; code += `          ? response.data \n`; code += `          : response.data['data'] ?? [];\n`; code += `        return data.map((json) => ${className}.fromJson(json)).toList();\n`; code += `      } else {\n`; code += `        throw ApiException('Failed to fetch ${className.toLowerCase()}s', statusCode: response.statusCode);\n`; code += `      }\n`; code += `    } on DioException catch (e) {\n`; code += `      throw ApiException(\n`; code += `        e.message ?? 'Network error occurred',\n`; code += `        statusCode: e.response?.statusCode,\n`; code += `        data: e.response?.data,\n`; code += `      );\n`; code += `    }\n` } else { code += `    final response = await _dio.get('${endpoint}');\n`; code += `    final List<dynamic> data = response.data is List \n`; code += `      ? response.data \n`; code += `      : response.data['data'] ?? [];\n`; code += `    return data.map((json) => ${className}.fromJson(json)).toList();\n` } code += `  }\n\n`; code += `  /// Fetch a single ${className} by ID\n`; code += `  Future<${className}> getById(String id) async {\n`; if (options.generateError) { code += `    try {\n`; code += `      final response = await _dio.get('${endpoint}/\$id');\n`; code += `      \n`; code += `      if (response.statusCode == 200) {\n`; code += `        return ${className}.fromJson(response.data);\n`; code += `      } else {\n`; code += `        throw ApiException('Failed to fetch ${className.toLowerCase()}', statusCode: response.statusCode);\n`; code += `      }\n`; code += `    } on DioException catch (e) {\n`; code += `      throw ApiException(\n`; code += `        e.message ?? 'Network error occurred',\n`; code += `        statusCode: e.response?.statusCode,\n`; code += `        data: e.response?.data,\n`; code += `      );\n`; code += `    }\n` } else { code += `    final response = await _dio.get('${endpoint}/\$id');\n`; code += `    return ${className}.fromJson(response.data);\n` } code += `  }\n\n` } if (this.selectedMethods.has('post')) { code += `  /// Create a new ${className}\n`; code += `  Future<${className}> create(${className} model) async {\n`; if (options.generateError) { code += `    try {\n`; code += `      final response = await _dio.post(\n`; code += `        '${endpoint}',\n`; code += `        data: model.toJson(),\n`; code += `      );\n`; code += `      \n`; code += `      if (response.statusCode == 200 || response.statusCode == 201) {\n`; code += `        return ${className}.fromJson(response.data);\n`; code += `      } else {\n`; code += `        throw ApiException('Failed to create ${className.toLowerCase()}', statusCode: response.statusCode);\n`; code += `      }\n`; code += `    } on DioException catch (e) {\n`; code += `      throw ApiException(\n`; code += `        e.message ?? 'Network error occurred',\n`; code += `        statusCode: e.response?.statusCode,\n`; code += `        data: e.response?.data,\n`; code += `      );\n`; code += `    }\n` } else { code += `    final response = await _dio.post(\n`; code += `      '${endpoint}',\n`; code += `      data: model.toJson(),\n`; code += `    );\n`; code += `    return ${className}.fromJson(response.data);\n` } code += `  }\n\n` } if (this.selectedMethods.has('put')) { code += `  /// Update an existing ${className}\n`; code += `  Future<${className}> update(String id, ${className} model) async {\n`; if (options.generateError) { code += `    try {\n`; code += `      final response = await _dio.put(\n`; code += `        '${endpoint}/\$id',\n`; code += `        data: model.toJson(),\n`; code += `      );\n`; code += `      \n`; code += `      if (response.statusCode == 200) {\n`; code += `        return ${className}.fromJson(response.data);\n`; code += `      } else {\n`; code += `        throw ApiException('Failed to update ${className.toLowerCase()}', statusCode: response.statusCode);\n`; code += `      }\n`; code += `    } on DioException catch (e) {\n`; code += `      throw ApiException(\n`; code += `        e.message ?? 'Network error occurred',\n`; code += `        statusCode: e.response?.statusCode,\n`; code += `        data: e.response?.data,\n`; code += `      );\n`; code += `    }\n` } else { code += `    final response = await _dio.put(\n`; code += `      '${endpoint}/\$id',\n`; code += `      data: model.toJson(),\n`; code += `    );\n`; code += `    return ${className}.fromJson(response.data);\n` } code += `  }\n\n` } if (this.selectedMethods.has('delete')) { code += `  /// Delete a ${className} by ID\n`; code += `  Future<bool> delete(String id) async {\n`; if (options.generateError) { code += `    try {\n`; code += `      final response = await _dio.delete('${endpoint}/\$id');\n`; code += `      return response.statusCode == 200 || response.statusCode == 204;\n`; code += `    } on DioException catch (e) {\n`; code += `      throw ApiException(\n`; code += `        e.message ?? 'Network error occurred',\n`; code += `        statusCode: e.response?.statusCode,\n`; code += `        data: e.response?.data,\n`; code += `      );\n`; code += `    }\n` } else { code += `    final response = await _dio.delete('${endpoint}/\$id');\n`; code += `    return response.statusCode == 200 || response.statusCode == 204;\n` } code += `  }\n\n` } code += `}\n`; if (options.generateLoading) { code += `\n/*\n/// Example usage with state management:\nclass ${className}Controller {\n  final ${serviceName} _service = ${serviceName}();\n  bool isLoading = false;\n  String? error;\n  List<${className}> items = [];\n  \n  Future<void> fetchAll() async {\n    isLoading = true;\n    error = null;\n    try {\n      items = await _service.getAll();\n    } on ApiException catch (e) {\n      error = e.message;\n    } finally {\n      isLoading = false;\n    }\n  }\n  \n  Future<void> createItem(${className} item) async {\n    isLoading = true;\n    error = null;\n    try {\n      final created = await _service.create(item);\n      items.add(created);\n    } on ApiException catch (e) {\n      error = e.message;\n    } finally {\n      isLoading = false;\n    }\n  }\n}\n*/\n` } return code } }

        class App { constructor() { this.gen = new G; this.dioGen = new DioGenerator; this.his = []; this.init() } init() { this.loadH(); this.bind(); this.loadS() } bind() { const t = this; $('#convert-btn').on('click', function () { t.conv() }); $('#copy-btn').on('click', function () { t.copy('model') }); $('#copy-dio-btn').on('click', function () { t.copy('dio') }); $('#download-btn').on('click', function () { t.download('model') }); $('#download-dio-btn').on('click', function () { t.download('dio') }); $('#theme-select').on('change', function (e) { t.changeTheme($(this).val()) }); $('.tab-btn').on('click', function () { const tab = $(this).data('tab'); t.switchTab(tab) }); $('.method-btn').on('click', function () { $(this).toggleClass('active'); const method = $(this).data('method'); if ($(this).hasClass('active')) { t.dioGen.selectedMethods.add(method) } else { t.dioGen.selectedMethods.delete(method) } if ($('#gen-dio').is(':checked')) { t.generateDioCode() } });['gen-json', 'gen-cpy', 'gen-ts', 'gen-key', 'use-num', 'use-serializable', 'use-equatable', 'use-default', 'gen-comment', 'use-base-model', 'gen-dio', 'gen-error', 'gen-loading', 'gen-interceptor'].forEach(function (e) { $('#' + e).on('change', function () { t.dbc() }) });['base-url', 'endpoint'].forEach(function (e) { $('#' + e).on('input', function () { if ($('#gen-dio').is(':checked')) { clearTimeout(t.dioTimeout); t.dioTimeout = setTimeout(() => t.generateDioCode(), 500) } }) }) } switchTab(tab) { $('.tab-btn').removeClass('active'); $('.tab-btn[data-tab="' + tab + '"]').addClass('active'); $('.tab-content').removeClass('active'); $('.tab-content[data-content="' + tab + '"]').addClass('active') } showNotification(message) { const $notif = $('#notification'); $notif.text(message).addClass('show'); setTimeout(() => { $notif.removeClass('show') }, 2000) } changeTheme(e) { const t = { tomorrow: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css", dracula: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-dracula.min.css", monokai: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css", solarized: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-solarizedlight.min.css", nord: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-nord.min.css", "night-owl": "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" }[e]; $('#theme-link').attr('href', t); localStorage.setItem("dart-theme", e); const s = $('#dart-code'); if (s.text()) { Prism.highlightElement(s[0]) } const d = $('#dio-code'); if (d.text()) { Prism.highlightElement(d[0]) } } dbc() { const t = this; clearTimeout(this.t); this.t = setTimeout(function () { const e = $('#json-input'); if (e.length && e.val().trim()) { t.conv() } }, 300) } loadS() { const e = localStorage.getItem("dart-theme") || "tomorrow"; $('#theme-select').val(e); this.changeTheme(e); $('#json-input').val(JSON.stringify({ id: 1, name: "John Doe", email: "john@example.com", username: "johndoe", age: 30, isActive: true, phone: { mobile: "+1234567890", home: "+0987654321" }, address: { street: "123 Main St", city: "New York", zipCode: "10001", coordinates: { lat: 40.7128, lng: -74.006 } }, tags: ["developer", "designer"], createdAt: "2024-01-01T00:00:00Z" }, null, 2)) } conv() { const t = this; const e = $('#json-input').val().trim(); const s = $('#class-name').val().trim() || "Model"; if (!e) { this.showNotification('❌ Please enter JSON data'); return } try { const a = { generateToJson: $('#gen-json').is(':checked'), generateCopyWith: $('#gen-cpy').is(':checked'), generateToString: $('#gen-ts').is(':checked'), generateKeys: $('#gen-key').is(':checked'), useNum: $('#use-num').is(':checked'), useSerializable: $('#use-serializable').is(':checked'), useEquatable: $('#use-equatable').is(':checked'), useDefaultValue: $('#use-default').is(':checked'), generateComment: $('#gen-comment').is(':checked'), useBaseModel: $('#use-base-model').is(':checked') }; this.gen.gen(s, e, a).then(function (code) { $('#dart-output').val(code); $('#dart-code').text(code); Prism.highlightElement($('#dart-code')[0]); $('#dart-output').addClass('hidden'); $('#dart-output-pre').addClass('active'); t.addH(s, e); t.showNotification('✅ Model generated successfully!'); if ($('#gen-dio').is(':checked')) { t.generateDioCode() } }) } catch (e) { const errorText = "// Error: " + e.message; $('#dart-output').val(errorText); $('#dart-code').text(errorText); $('#dart-output').removeClass('hidden'); $('#dart-output-pre').removeClass('active'); this.showNotification('❌ Invalid JSON format') } } generateDioCode() { const className = $('#class-name').val().trim() || "Model"; const options = { generateError: $('#gen-error').is(':checked'), generateLoading: $('#gen-loading').is(':checked'), generateInterceptor: $('#gen-interceptor').is(':checked') }; const dioCode = this.dioGen.generateService(className, options); $('#dio-output').val(dioCode); $('#dio-code').text(dioCode); Prism.highlightElement($('#dio-code')[0]); $('#dio-output').addClass('hidden'); $('#dio-output-pre').addClass('active') } copy(type) { const code = type === 'model' ? $('#dart-output').val() : $('#dio-output').val(); const btnId = type === 'model' ? '#copy-btn' : '#copy-dio-btn'; navigator.clipboard.writeText(code).then(() => { const $btn = $(btnId); const originalText = $btn.text(); $btn.text('✅ Copied!'); this.showNotification('📋 Code copied to clipboard!'); setTimeout(() => { $btn.text(originalText) }, 2000) }).catch(() => { const $textarea = type === 'model' ? $('#dart-output') : $('#dio-output'); $textarea.select(); document.execCommand('copy'); this.showNotification('📋 Code copied!') }) } download(type) { const code = type === 'model' ? $('#dart-output').val() : $('#dio-output').val(); const className = $('#class-name').val().trim() || "Model"; const filename = type === 'model' ? `${className.toLowerCase()}.dart` : `${className.toLowerCase()}_service.dart`; const blob = new Blob([code], { type: 'text/plain' }); const url = window.URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = filename; a.click(); window.URL.revokeObjectURL(url); this.showNotification(`💾 Downloaded ${filename}`) } addH(e, t) { const s = { className: e, json: t, time: (new Date).toLocaleString() }; this.his.unshift(s); if (this.his.length > 10) { this.his = this.his.slice(0, 10) } this.saveH(); this.renH() } renH() { const t = this; $('#history-list').html(this.his.map(function (e, s) { return `<div class="history-item" onclick="app.selH(${s})">${e.className}</div>` }).join('')) } selH(e) { const t = this.his[e]; $('#class-name').val(t.className); $('#json-input').val(t.json); this.conv() } saveH() { try { localStorage.setItem("dart-history", JSON.stringify(this.his)) } catch (e) { } } loadH() { try { this.his = JSON.parse(localStorage.getItem("dart-history") || "[]"); this.renH() } catch (e) { this.his = [] } } }

        const app = new App;
    </script>
</body>

</html>
<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dart QuickType Pro</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet"
        id="theme-link">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1e1e2e 0%, #2a1a3d 100%);
            color: #e0e0e0;
            overflow: hidden
        }

        .navbar {
            background: linear-gradient(90deg, #1a1a2e 0%, #2d1b3d 100%);
            padding: 1rem 2rem;
            border-bottom: 2px solid #3d2f5a;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3)
        }

        .navbar-brand {
            color: #fff;
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 1px
        }

        .nav-badge {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: #fff;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 0.5rem;
            display: inline-block
        }

        .main-container {
            display: flex;
            height: calc(100vh - 70px)
        }

        .content-area {
            flex: 1;
            display: flex;
            gap: 0
        }

        .panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 1.5rem;
            overflow: hidden
        }

        .panel.input-panel {
            background: rgba(30, 30, 46, 0.8);
            backdrop-filter: blur(10px);
            border-right: 2px solid #3d2f5a;
            overflow-y: auto
        }

        .panel.output-panel {
            background: rgba(30, 30, 46, 0.8);
            backdrop-filter: blur(10px)
        }

        .panel-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem
        }

        .panel h2 {
            font-size: 1.4rem;
            color: #fff;
            font-weight: 600;
            margin: 0
        }

        .panel-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem
        }

        .theme-selector {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
            background: rgba(52, 58, 64, 0.6);
            padding: 0.75rem;
            border-radius: 10px;
            border: 1px solid #495057
        }

        .theme-selector label {
            color: #e0e0e0;
            font-size: 0.9rem;
            font-weight: 500;
            white-space: nowrap
        }

        .form-control,
        .theme-select {
            background: rgba(52, 58, 64, 0.8);
            border: 1px solid #495057;
            color: #fff;
            padding: 0.65rem 0.9rem;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: all 0.3s ease
        }

        .theme-select {
            cursor: pointer;
            flex: 1
        }

        .form-control {
            margin-bottom: 1rem;
            width: 100%
        }

        .form-control:focus,
        .theme-select:focus {
            outline: 0;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2)
        }

        .theme-select option {
            background: #343a40;
            color: #fff
        }

        .checkboxes-section {
            margin: 1rem 0;
            background: rgba(52, 58, 64, 0.4);
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid #495057
        }

        .section-title {
            font-size: 0.85rem;
            color: #adb5bd;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.75rem;
            font-weight: 600
        }

        .checkbox-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.65rem;
            margin-bottom: 0.65rem
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            background: rgba(73, 80, 87, 0.3);
            padding: 0.6rem 0.75rem;
            border-radius: 6px;
            transition: all 0.2s ease
        }

        .checkbox-item:hover {
            background: rgba(73, 80, 87, 0.5);
            transform: translateX(2px)
        }

        .checkbox-item input[type=checkbox] {
            width: 1.1rem;
            height: 1.1rem;
            cursor: pointer;
            accent-color: #667eea;
            flex-shrink: 0
        }

        .checkbox-item label {
            color: #e0e0e0;
            font-size: 0.88rem;
            cursor: pointer;
            user-select: none;
            display: flex;
            align-items: center;
            gap: 0.3rem
        }

        .code {
            color: #00d4ff;
            font-family: 'Fira Code', Consolas, monospace;
            font-size: 0.82rem;
            background: rgba(0, 212, 255, 0.1);
            padding: 0.15rem 0.4rem;
            border-radius: 3px
        }

        .tooltip {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 16px;
            height: 16px;
            border: 1px solid #667eea;
            border-radius: 50%;
            font-size: 10px;
            color: #667eea;
            cursor: help;
            margin-left: 0.25rem;
            background: rgba(102, 126, 234, 0.1)
        }

        .tooltip-text {
            visibility: hidden;
            position: absolute;
            bottom: 130%;
            left: 50%;
            transform: translateX(-50%);
            background: #1a1d20;
            color: #fff;
            padding: 0.6rem;
            border-radius: 6px;
            border: 1px solid #667eea;
            width: 240px;
            font-size: 0.75rem;
            z-index: 1000;
            white-space: normal;
            text-align: left;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5)
        }

        .tooltip:hover .tooltip-text {
            visibility: visible
        }

        .editor-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0
        }

        .editor {
            flex: 1;
            background: rgba(30, 30, 30, 0.9);
            border: 1px solid #495057;
            color: #d4d4d4;
            padding: 1.2rem;
            font-family: 'Fira Code', Consolas, Monaco, monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            resize: none;
            outline: 0;
            overflow: auto;
            border-radius: 8px;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3)
        }

        .editor:focus {
            border-color: #667eea;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3), 0 0 0 3px rgba(102, 126, 234, 0.2)
        }

        #dart-output-pre,
        #dio-output-pre {
            flex: 1;
            background: rgba(30, 30, 30, 0.9);
            border: 1px solid #495057;
            overflow: auto;
            margin: 0;
            display: none;
            border-radius: 8px;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3)
        }

        #dart-output-pre.active,
        #dio-output-pre.active {
            display: block
        }

        #dart-output.hidden,
        #dio-output.hidden {
            display: none
        }

        pre[class*=language-] {
            background: rgba(30, 30, 30, 0.9) !important;
            margin: 0;
            padding: 1.2rem;
            height: 100%
        }

        code[class*=language-] {
            color: #d4d4d4;
            font-family: 'Fira Code', Consolas, Monaco, monospace;
            font-size: 0.9rem;
            line-height: 1.6
        }

        .btn-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
            margin-top: 1rem
        }

        .btn {
            padding: 0.8rem;
            border: none;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s
        }

        .btn:hover::before {
            width: 300px;
            height: 300px
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3)
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4)
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: #fff;
            box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3)
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(245, 87, 108, 0.4)
        }

        .btn-full {
            width: 100%;
            grid-column: 1 / -1
        }

        .tabs-container {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            background: rgba(52, 58, 64, 0.4);
            padding: 0.5rem;
            border-radius: 10px;
            border: 1px solid #495057
        }

        .tab-btn {
            flex: 1;
            padding: 0.65rem;
            border: none;
            background: transparent;
            color: #adb5bd;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3)
        }

        .tab-btn:hover:not(.active) {
            background: rgba(73, 80, 87, 0.5);
            color: #fff
        }

        .tab-content {
            display: none;
            flex: 1;
            flex-direction: column;
            min-height: 0
        }

        .tab-content.active {
            display: flex
        }

        .dio-section {
            background: rgba(52, 58, 64, 0.4);
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid #495057;
            margin-bottom: 1rem
        }

        .dio-input-group {
            margin-bottom: 0.75rem
        }

        .dio-input-group label {
            display: block;
            color: #adb5bd;
            font-size: 0.85rem;
            margin-bottom: 0.4rem;
            font-weight: 500
        }

        .dio-input-group input,
        .dio-input-group select {
            width: 100%;
            background: rgba(52, 58, 64, 0.8);
            border: 1px solid #495057;
            color: #fff;
            padding: 0.6rem 0.8rem;
            border-radius: 6px;
            font-size: 0.9rem;
            transition: all 0.3s ease
        }

        .dio-input-group input:focus,
        .dio-input-group select:focus {
            outline: 0;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2)
        }

        .method-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
            margin-bottom: 0rem
        }

        .method-btn {
            padding: 0.7rem;
            border: 2px solid;
            background: transparent;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px
        }

        .method-btn.get {
            border-color: #00c853;
            color: #00c853
        }

        .method-btn.get:hover,
        .method-btn.get.active {
            background: #00c853;
            color: #fff;
            box-shadow: 0 4px 15px rgba(0, 200, 83, 0.3)
        }

        .method-btn.post {
            border-color: #2196f3;
            color: #2196f3
        }

        .method-btn.post:hover,
        .method-btn.post.active {
            background: #2196f3;
            color: #fff;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3)
        }

        .method-btn.put {
            border-color: #ff9800;
            color: #ff9800
        }

        .method-btn.put:hover,
        .method-btn.put.active {
            background: #ff9800;
            color: #fff;
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3)
        }

        .method-btn.delete {
            border-color: #f44336;
            color: #f44336
        }

        .method-btn.delete:hover,
        .method-btn.delete.active {
            background: #f44336;
            color: #fff;
            box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3)
        }

        ::-webkit-scrollbar {
            width: 12px;
            height: 12px
        }

        ::-webkit-scrollbar-track {
            background: rgba(33, 33, 33, 0.5);
            border-radius: 10px
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%)
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px)
            }

            to {
                opacity: 1;
                transform: translateY(0)
            }
        }

        .panel {
            animation: slideIn 0.3s ease
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #00c853 0%, #00e676 100%);
            color: #fff;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 200, 83, 0.3);
            z-index: 9999;
            opacity: 0;
            transform: translateX(400px);
            transition: all 0.3s ease;
            font-weight: 500
        }

        .notification.show {
            opacity: 1;
            transform: translateX(0)
        }

        .dio-scrollable {
            max-height: calc(100vh - 400px);
            overflow-y: auto;
            overflow-x: hidden;
            padding-right: 0.5rem
        }

        /* التعديلات الجديدة لزيادة حجم منطقة إدخال JSON */
        .json-input-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0;
            margin-top: 1rem
        }

        #json-input {
            flex: 1;
            min-height: 300px;
            height: auto;
            background: rgba(30, 30, 30, 0.9);
            border: 1px solid #495057;
            color: #d4d4d4;
            padding: 1.2rem;
            font-family: 'Fira Code', Consolas, Monaco, monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            resize: none;
            outline: 0;
            overflow: auto;
            border-radius: 8px;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3)
        }

        #json-input:focus {
            border-color: #667eea;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3), 0 0 0 3px rgba(102, 126, 234, 0.2)
        }

        .input-panel {
            display: flex;
            flex-direction: column;
            height: 100%
        }

        .input-config {
            flex-shrink: 0
        }

        .json-input-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0
        }
    </style>
</head>

<body>
    <div class="notification" id="notification"></div>
    <nav class="navbar">
        <div><span class="navbar-brand">JSON TO DART</span><span class="nav-badge">PRO</span></div>
    </nav>
    <div class="main-container">
        <div class="content-area">
            <div class="panel input-panel">
                <div class="input-config">
                    <div class="panel-header">
                        <div class="panel-icon">⚡</div>
                        <h2>Configuration</h2>
                    </div>
                    <div class="theme-selector"><label for="theme-select">🎨 Theme:</label><select id="theme-select"
                            class="theme-select">
                            <option value="tomorrow">VS Code Dark</option>
                            <option value="dracula">Dracula</option>
                            <option value="monokai">Monokai</option>
                            <option value="solarized">Solarized Dark</option>
                            <option value="nord">Nord</option>
                            <option value="night-owl">Night Owl</option>
                        </select></div>
                    <label
                        style="color: #adb5bd; font-size: 0.85rem; margin-bottom: 0.4rem; display: block; font-weight: 500">📦
                        Class Name</label>
                    <input type="text" id="class-name" class="form-control" value="User"
                        placeholder="Enter class name...">
                    <div class="checkboxes-section">
                        <div class="section-title">🔧 Model Options</div>
                        <div class="checkbox-row">
                            <div class="checkbox-item"><input type="checkbox" id="gen-json" checked><label
                                    for="gen-json">Generate <span class="code">toJson</span></label></div>
                            <div class="checkbox-item"><input type="checkbox" id="use-serializable"><label
                                    for="use-serializable">Use <span class="code">JSONSerializable</span></label></div>
                        </div>
                        <div class="checkbox-row">
                            <div class="checkbox-item"><input type="checkbox" id="gen-cpy"><label for="gen-cpy">Generate
                                    <span class="code">copyWith</span></label></div>
                            <div class="checkbox-item"><input type="checkbox" id="use-equatable"><label
                                    for="use-equatable">Use <span class="code">Equatable</span></label></div>
                        </div>
                        <div class="checkbox-row">
                            <div class="checkbox-item"><input type="checkbox" id="gen-ts"><label for="gen-ts">Generate
                                    <span class="code">toString</span></label></div>
                            <div class="checkbox-item"><input type="checkbox" id="use-default" checked><label
                                    for="use-default">Use default value<span class="tooltip">ⓘ<span
                                            class="tooltip-text">Makes properties non-nullable with default
                                            values</span></span></label></div>
                        </div>
                        <div class="checkbox-row">
                            <div class="checkbox-item"><input type="checkbox" id="gen-key"><label for="gen-key">Generate
                                    JSON keys</label></div>
                            <div class="checkbox-item"><input type="checkbox" id="gen-comment"><label
                                    for="gen-comment">Generate json as comment</label></div>
                        </div>
                        <div class="checkbox-row">
                            <div class="checkbox-item"><input type="checkbox" id="use-num"><label for="use-num">Always
                                    use <span class="code">num</span> type</label></div>
                            <div class="checkbox-item"><input type="checkbox" id="use-base-model"><label
                                    for="use-base-model">Use Base Model<span class="tooltip">ⓘ<span
                                            class="tooltip-text">Extend from Model with helper
                                            methods</span></span></label></div>
                        </div>
                    </div>
                    <div class="checkboxes-section">
                        <div class="section-title">🌐 Dio API Options</div>
                        <div class="checkbox-row">
                            <div class="checkbox-item"><input type="checkbox" id="gen-dio"><label for="gen-dio">Generate
                                    <span class="code">Dio</span> Service</label></div>
                            <div class="checkbox-item"><input type="checkbox" id="gen-error" checked><label
                                    for="gen-error">Error Handling<span class="tooltip">ⓘ<span class="tooltip-text">Add
                                            try-catch with DioException</span></span></label></div>
                        </div>
                        <div class="checkbox-row">
                            <div class="checkbox-item"><input type="checkbox" id="gen-loading"><label
                                    for="gen-loading">Loading Example</label></div>
                            <div class="checkbox-item"><input type="checkbox" id="gen-interceptor"><label
                                    for="gen-interceptor">Add Interceptors</label></div>
                        </div>
                    </div>
                </div>
                <div class="json-input-section">
                    <label
                        style="color: #adb5bd; font-size: 0.85rem; margin-bottom: 0.4rem; display: block; font-weight: 500">📝
                        JSON Input</label>
                    <div class="json-input-container">
                        <textarea id="json-input" placeholder="Paste your JSON here..."></textarea>
                        <button id="convert-btn" class="btn btn-primary btn-full">🚀 Generate Code</button>
                    </div>
                </div>
            </div>
            <div class="panel output-panel">
                <div class="panel-header">
                    <div class="panel-icon">💎</div>
                    <h2>Generated Code</h2>
                </div>
                <div class="tabs-container"><button class="tab-btn active" data-tab="model">📦 Model</button><button
                        class="tab-btn" data-tab="dio">🌐 Dio Service</button></div>
                <div class="tab-content active" data-content="model">
                    <div class="editor-wrapper"><textarea id="dart-output" class="editor hidden" readonly></textarea>
                        <pre id="dart-output-pre"><code id="dart-code" class="language-dart"></code></pre>
                        <div class="btn-group"><button id="copy-btn" class="btn btn-primary">📋 Copy
                                Model</button><button id="download-btn" class="btn btn-secondary">💾 Download</button>
                        </div>
                    </div>
                </div>
                <div class="tab-content" data-content="dio">
                    <div class="dio-scrollable">
                        <div class="dio-section">
                            <div class="dio-input-group"><label>🔗 Base URL</label><input type="text" id="base-url"
                                    placeholder="https://api.example.com" value="https://jsonplaceholder.typicode.com">
                            </div>
                            <div class="dio-input-group"><label>📍 Endpoint</label><input type="text" id="endpoint"
                                    placeholder="/users" value="/users"></div>
                            <div class="dio-input-group"><label>🎯 Select HTTP Methods</label>
                                <div class="method-buttons"><button class="method-btn get active"
                                        data-method="get">GET</button><button class="method-btn post active"
                                        data-method="post">POST</button><button class="method-btn put active"
                                        data-method="put">PUT</button><button class="method-btn delete active"
                                        data-method="delete">DELETE</button></div>
                            </div>
                        </div>
                    </div>
                    <div class="editor-wrapper"><textarea id="dio-output" class="editor hidden" readonly></textarea>
                        <pre id="dio-output-pre"><code id="dio-code" class="language-dart"></code></pre>
                        <div class="btn-group"><button id="copy-dio-btn" class="btn btn-primary">📋 Copy
                                Service</button><button id="download-dio-btn" class="btn btn-secondary">💾
                                Download</button></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-dart.min.js"></script>
    <script>
        class G { constructor() { this.reset() } reset() { this.r = new Map; this.g = []; this.u = new Set; this.s = new Map; this.o = "" } async gen(e, t, s = {}) { try { this.reset(), this.o = t; const a = JSON.parse(t), n = Array.isArray(a) ? a.length > 0 ? a[0] : {} : a; return this.proc(e, n, s), this.out(s) } catch (e) { throw new Error("Invalid JSON: " + e.message) } } proc(e, t, s) { const a = [{ c: e, o: t }], n = new Map; for (; a.length > 0;) { const { c: e, o: t } = a.shift(); if (!t || "object" != typeof t || Array.isArray(t)) continue; const r = this.sid(t); if (n.has(r)) continue; const i = this.uc(e); n.set(r, i), this.s.set(r, i), this.u.add(i); const o = []; Object.entries(t).forEach((([e, t]) => { if (this.iv(e)) { const r = this.tc(e), l = this.ap(e, t, i, n, a, s); o.push({ ...l, n: r, j: e }) } })), this.g.push({ n: i, p: o, s: r }), this.r.set(i, { n: i, p: o }) } } ap(e, t, s, a, n, r) { if (null === t) return { d: "dynamic", v: null }; if ("string" == typeof t) return { d: "String", v: '""' }; if ("boolean" == typeof t) return { d: "bool", v: "false" }; if ("number" == typeof t) return r.useNum ? { d: "num", v: "0" } : { d: Number.isInteger(t) ? "int" : "double", v: Number.isInteger(t) ? "0" : "0.0" }; if (Array.isArray(t)) { if (0 === t.length) return { d: "List<dynamic>", v: "[]" }; const r = t[0]; if ("object" == typeof r && null !== r) { const t = this.sid(r); if (a.has(t)) return { d: `List<${a.get(t)}>`, v: "[]" }; const i = this.nc(e, s); return n.push({ c: i, o: r }), { d: `List<${i}>`, v: "[]" } } return { d: `List<${this.st(r, r)}>`, v: "[]" } } if ("object" == typeof t) { const r = this.sid(t); if (a.has(r)) return { d: a.get(r), v: null }; const i = this.nc(e, s); return n.push({ c: i, o: t }), { d: i, v: null } } return { d: "dynamic", v: null } } nc(e, t) { let s = this.cap(this.tc(e)); const a = e.toLowerCase(); if ("data" === a) return "Datum"; if (["links", "attributes", "relationships"].includes(a)) return t + this.cap(e); if (["author", "user", "profile", "meta", "config", "settings"].includes(a)) return this.cap(e); return s.endsWith("ies") && s.length > 4 ? s = s.slice(0, -3) + "y" : s.match(/(ses|ches|shes|xes)$/) ? s = s.slice(0, -2) : s.endsWith("s") && !s.endsWith("ss") && s.length > 3 && (s = s.slice(0, -1)), s } out(e) { let t = this.imp(e); return this.g.forEach(((s, a) => { a > 0 && (t += "\n\n"), t += this.cls(s, e) })), e.generateComment && (t += "\n\n" + this.jc()), t } imp(e) { const t = []; return e.useBaseModel ? t.push("import 'base.dart';") : (e.useSerializable && t.push("import 'package:json_annotation/json_annotation.dart';"), e.useEquatable && t.push("import 'package:equatable/equatable.dart';"), e.useSerializable && (t.push(""), t.push("part 'model.g.dart';"))), t.length > 0 ? t.join("\n") + "\n\n" : "" } cls(e, t) { return t.useBaseModel ? this.bm(e, t) : this.std(e, t) } bm(e, t) { const { n: s, p: a } = e; let n = `class ${s} extends Model {\n`; a.forEach((e => { n += `    late ${e.d} ${e.n};\n` })), n += `\n    ${s}.fromJson([Map<String, dynamic>? json]) {\n`; const r = a.some((e => "id" === e.n)); return r || (n += '        id = stringFromJson(json, "id");\n'), a.forEach((e => { n += `        ${e.n} = ${this.bh(e, t)};\n` })), n += "    }\n", t.generateToJson && (n += "\n    @override\n    Map<String, dynamic> toJson() => {\n", r || (n += '        "id": id,\n'), a.forEach((e => { n += `        "${e.j}": ${this.tv(e)},\n` })), n += "    };\n"), n += "\n}", n } bh(e, t) { const { d: s, j: a, v: n } = e; if ("String" === s) return t.useDefaultValue && n ? `stringFromJson(json, "${a}") ?? ${n}` : `stringFromJson(json, "${a}")`; if ("int" === s) return t.useDefaultValue && n ? `intFromJson(json, "${a}") ?? ${n}` : `intFromJson(json, "${a}")`; if ("double" === s) return t.useDefaultValue && n ? `doubleFromJson(json, "${a}") ?? ${n}` : `doubleFromJson(json, "${a}")`; if ("bool" === s) return t.useDefaultValue && n ? `boolFromJson(json, "${a}") ?? ${n}` : `boolFromJson(json, "${a}")`; if (s.startsWith("List<")) { const e = s.match(/List<(.+)>/)[1]; return this.ipt(e) ? `(json?["${a}"] as List?)?.cast<${e}>() ?? []` : `listFromJson(json, "${a}", callback: (e) => ${e}.fromJson(e))` } return `${s}.fromJson(json?["${a}"])` } std(e, t) { const { n: s, p: a } = e; let n = ""; t.useSerializable && (n += "@JsonSerializable()\n"); const r = t.useEquatable ? " extends Equatable" : ""; n += `class ${s}${r} {\n`, n += `    ${s}({\n`, a.forEach((e => { const s = t.useDefaultValue ? "" : "required "; n += `        ${s}this.${e.n},\n` })), n += "    });\n\n", a.forEach(((e, i) => { t.generateKeys && t.useSerializable && (n += `    @JsonKey(name: '${e.j}')\n`); const s = t.useDefaultValue ? "" : "?"; n += `    final ${e.d}${s} ${e.n};\n`, i < a.length - 1 && (n += "\n") })), n += "\n", n += this.fj(s, a, t), t.generateToJson && (n += "\n" + this.tj(s, a, t)), t.generateCopyWith && (n += "\n" + this.cw(s, a, t)), t.generateToString && (n += "\n" + this.ts(s, a, t)), n += "\n}"; return n } fj(e, t, s) { if (s.useSerializable) return `    factory ${e}.fromJson(Map<String, dynamic> json) => _${e}FromJson(json);\n`; let a = `    factory ${e}.fromJson(Map<String, dynamic> json){ \n`; return a += `        return ${e}(\n`, t.forEach((e => { a += `            ${e.n}: ${this.fv(e, s)},\n` })), a += "        );\n    }\n", a } fv(e, t) { const { d: s, j: a, v: n } = e; if (s.startsWith("List<")) { const e = s.match(/List<(.+)>/)[1]; return this.ipt(e) ? `json["${a}"] == null ? [] : List<${e}>.from(json["${a}"])` : `json["${a}"] == null ? [] : List<${e}>.from(json["${a}"]!.map((x) => ${e}.fromJson(x)))` } return this.ipt(s) ? t.useDefaultValue && n ? `json["${a}"] ?? ${n}` : `json["${a}"]` : `json["${a}"] == null ? null : ${s}.fromJson(json["${a}"])` } tj(e, t, s) { if (s.useSerializable) return `    Map<String, dynamic> toJson() => _${e}ToJson(this);\n`; let a = "    Map<String, dynamic> toJson() => {\n"; return t.forEach((e => { a += `        "${e.j}": ${this.tv(e, s.useDefaultValue)},\n` })), a += "    };\n", a } tv(e, t = !1) { const { d: s, n: a } = e; if (s.startsWith("List<")) { const e = s.match(/List<(.+)>/)[1]; return this.ipt(e) ? a : t ? `${a}.map((x) => x.toJson()).toList()` : `${a}?.map((x) => x.toJson()).toList()` } return this.ipt(s) ? a : t ? `${a}.toJson()` : `${a}?.toJson()` } cw(e, t, s) { let a = `    ${e} copyWith({\n`; return t.forEach((e => { const t = s.useDefaultValue ? "" : "?"; a += `        ${e.d}${t} ${e.n},\n` })), a += `    }) => ${e}(\n`, t.forEach((e => { a += `        ${e.n}: ${e.n} ?? this.${e.n},\n` })), a += "    );\n", a } ts(e, t, s) { if (s.useEquatable) { const e = t.map((e => e.n)).join(", "); return `    @override\n    List<Object?> get props => [${e}];\n` } const a = t.map((e => `${e.n}: \${e.n}`)).join(", "); return `    @override\n    String toString() => '${e}(${a})';\n` } jc() { return JSON.stringify(JSON.parse(this.o), null, 2).split("\n").map((e => "// " + e)).join("\n") } sid(e) { return Object.keys(e).sort().map((t => { const s = e[t]; let a = typeof s; return Array.isArray(s) ? a = s.length > 0 && "object" == typeof s[0] ? "array_object" : "array_primitive" : "object" === a && null !== s && (a = "object"), `${t}:${a}` })).join("|") } st(e, t) { return "string" == typeof e ? "String" : "boolean" == typeof e ? "bool" : "number" == typeof e ? t && t.useNum ? "num" : Number.isInteger(e) ? "int" : "double" : "dynamic" } ipt(e) { return ["String", "int", "double", "bool", "num", "dynamic"].includes(e) } uc(e) { let t = this.cap(this.tc(e)), s = 1; for (; this.u.has(t);)t = this.cap(this.tc(e)) + s++; return t } iv(e) { return /^[a-zA-Z_][a-zA-Z0-9_]*$/.test(e) } tc(e) { return e.replace(/_([a-z])/g, ((e, t) => t.toUpperCase())) } cap(e) { return e.charAt(0).toUpperCase() + e.slice(1) } }

        class DioGenerator { constructor() { this.selectedMethods = new Set(['get', 'post', 'put', 'delete']) } generateService(className, options) { const baseUrl = $('#base-url').val() || 'https://api.example.com'; const endpoint = $('#endpoint').val() || '/users'; const serviceName = className + 'Service'; let code = `import 'package:dio/dio.dart';\nimport '${className.toLowerCase()}.dart';\n\n`; if (options.generateError) { code += `/// Custom exception for API errors\n`; code += `class ApiException implements Exception {\n`; code += `  final String message;\n`; code += `  final int? statusCode;\n`; code += `  final dynamic data;\n\n`; code += `  ApiException(this.message, {this.statusCode, this.data});\n\n`; code += `  @override\n`; code += `  String toString() => 'ApiException: \$message (Status: \$statusCode)';\n`; code += `}\n\n` } code += `/// Service class for ${className} API operations\n`; code += `/// Using Dio package: https://pub.dev/packages/dio\n`; code += `class ${serviceName} {\n`; code += `  late final Dio _dio;\n\n`; code += `  ${serviceName}({Dio? dio}) {\n`; code += `    _dio = dio ?? Dio(BaseOptions(\n`; code += `      baseUrl: '${baseUrl}',\n`; code += `      connectTimeout: const Duration(seconds: 30),\n`; code += `      receiveTimeout: const Duration(seconds: 30),\n`; code += `      headers: {\n`; code += `        'Content-Type': 'application/json',\n`; code += `        'Accept': 'application/json',\n`; code += `      },\n`; code += `    ));\n`; if (options.generateInterceptor) { code += `\n    // Add interceptors for logging and error handling\n`; code += `    _dio.interceptors.add(InterceptorsWrapper(\n`; code += `      onRequest: (options, handler) {\n`; code += `        print('[\${options.method}] \${options.uri}');\n`; code += `        return handler.next(options);\n`; code += `      },\n`; code += `      onResponse: (response, handler) {\n`; code += `        print('[\${response.statusCode}] \${response.requestOptions.uri}');\n`; code += `        return handler.next(response);\n`; code += `      },\n`; code += `      onError: (error, handler) {\n`; code += `        print('ERROR: \${error.message}');\n`; code += `        return handler.next(error);\n`; code += `      },\n`; code += `    ));\n` } code += `  }\n\n`; if (this.selectedMethods.has('get')) { code += `  /// Fetch all ${className}s\n`; code += `  Future<List<${className}>> getAll() async {\n`; if (options.generateError) { code += `    try {\n`; code += `      final response = await _dio.get('${endpoint}');\n`; code += `      \n`; code += `      if (response.statusCode == 200) {\n`; code += `        final List<dynamic> data = response.data is List \n`; code += `          ? response.data \n`; code += `          : response.data['data'] ?? [];\n`; code += `        return data.map((json) => ${className}.fromJson(json)).toList();\n`; code += `      } else {\n`; code += `        throw ApiException('Failed to fetch ${className.toLowerCase()}s', statusCode: response.statusCode);\n`; code += `      }\n`; code += `    } on DioException catch (e) {\n`; code += `      throw ApiException(\n`; code += `        e.message ?? 'Network error occurred',\n`; code += `        statusCode: e.response?.statusCode,\n`; code += `        data: e.response?.data,\n`; code += `      );\n`; code += `    }\n` } else { code += `    final response = await _dio.get('${endpoint}');\n`; code += `    final List<dynamic> data = response.data is List \n`; code += `      ? response.data \n`; code += `      : response.data['data'] ?? [];\n`; code += `    return data.map((json) => ${className}.fromJson(json)).toList();\n` } code += `  }\n\n`; code += `  /// Fetch a single ${className} by ID\n`; code += `  Future<${className}> getById(String id) async {\n`; if (options.generateError) { code += `    try {\n`; code += `      final response = await _dio.get('${endpoint}/\$id');\n`; code += `      \n`; code += `      if (response.statusCode == 200) {\n`; code += `        return ${className}.fromJson(response.data);\n`; code += `      } else {\n`; code += `        throw ApiException('Failed to fetch ${className.toLowerCase()}', statusCode: response.statusCode);\n`; code += `      }\n`; code += `    } on DioException catch (e) {\n`; code += `      throw ApiException(\n`; code += `        e.message ?? 'Network error occurred',\n`; code += `        statusCode: e.response?.statusCode,\n`; code += `        data: e.response?.data,\n`; code += `      );\n`; code += `    }\n` } else { code += `    final response = await _dio.get('${endpoint}/\$id');\n`; code += `    return ${className}.fromJson(response.data);\n` } code += `  }\n\n` } if (this.selectedMethods.has('post')) { code += `  /// Create a new ${className}\n`; code += `  Future<${className}> create(${className} model) async {\n`; if (options.generateError) { code += `    try {\n`; code += `      final response = await _dio.post(\n`; code += `        '${endpoint}',\n`; code += `        data: model.toJson(),\n`; code += `      );\n`; code += `      \n`; code += `      if (response.statusCode == 200 || response.statusCode == 201) {\n`; code += `        return ${className}.fromJson(response.data);\n`; code += `      } else {\n`; code += `        throw ApiException('Failed to create ${className.toLowerCase()}', statusCode: response.statusCode);\n`; code += `      }\n`; code += `    } on DioException catch (e) {\n`; code += `      throw ApiException(\n`; code += `        e.message ?? 'Network error occurred',\n`; code += `        statusCode: e.response?.statusCode,\n`; code += `        data: e.response?.data,\n`; code += `      );\n`; code += `    }\n` } else { code += `    final response = await _dio.post(\n`; code += `      '${endpoint}',\n`; code += `      data: model.toJson(),\n`; code += `    );\n`; code += `    return ${className}.fromJson(response.data);\n` } code += `  }\n\n` } if (this.selectedMethods.has('put')) { code += `  /// Update an existing ${className}\n`; code += `  Future<${className}> update(String id, ${className} model) async {\n`; if (options.generateError) { code += `    try {\n`; code += `      final response = await _dio.put(\n`; code += `        '${endpoint}/\$id',\n`; code += `        data: model.toJson(),\n`; code += `      );\n`; code += `      \n`; code += `      if (response.statusCode == 200) {\n`; code += `        return ${className}.fromJson(response.data);\n`; code += `      } else {\n`; code += `        throw ApiException('Failed to update ${className.toLowerCase()}', statusCode: response.statusCode);\n`; code += `      }\n`; code += `    } on DioException catch (e) {\n`; code += `      throw ApiException(\n`; code += `        e.message ?? 'Network error occurred',\n`; code += `        statusCode: e.response?.statusCode,\n`; code += `        data: e.response?.data,\n`; code += `      );\n`; code += `    }\n` } else { code += `    final response = await _dio.put(\n`; code += `      '${endpoint}/\$id',\n`; code += `      data: model.toJson(),\n`; code += `    );\n`; code += `    return ${className}.fromJson(response.data);\n` } code += `  }\n\n` } if (this.selectedMethods.has('delete')) { code += `  /// Delete a ${className} by ID\n`; code += `  Future<bool> delete(String id) async {\n`; if (options.generateError) { code += `    try {\n`; code += `      final response = await _dio.delete('${endpoint}/\$id');\n`; code += `      return response.statusCode == 200 || response.statusCode == 204;\n`; code += `    } on DioException catch (e) {\n`; code += `      throw ApiException(\n`; code += `        e.message ?? 'Network error occurred',\n`; code += `        statusCode: e.response?.statusCode,\n`; code += `        data: e.response?.data,\n`; code += `      );\n`; code += `    }\n` } else { code += `    final response = await _dio.delete('${endpoint}/\$id');\n`; code += `    return response.statusCode == 200 || response.statusCode == 204;\n` } code += `  }\n\n` } code += `}\n`; if (options.generateLoading) { code += `\n/*\n/// Example usage with state management:\nclass ${className}Controller {\n  final ${serviceName} _service = ${serviceName}();\n  bool isLoading = false;\n  String? error;\n  List<${className}> items = [];\n  \n  Future<void> fetchAll() async {\n    isLoading = true;\n    error = null;\n    try {\n      items = await _service.getAll();\n    } on ApiException catch (e) {\n      error = e.message;\n    } finally {\n      isLoading = false;\n    }\n  }\n  \n  Future<void> createItem(${className} item) async {\n    isLoading = true;\n    error = null;\n    try {\n      final created = await _service.create(item);\n      items.add(created);\n    } on ApiException catch (e) {\n      error = e.message;\n    } finally {\n      isLoading = false;\n    }\n  }\n}\n*/\n` } return code } }

        class App { constructor() { this.gen = new G; this.dioGen = new DioGenerator; this.his = []; this.init() } init() { this.loadH(); this.bind(); this.loadS() } bind() { const t = this; $('#convert-btn').on('click', function () { t.conv() }); $('#copy-btn').on('click', function () { t.copy('model') }); $('#copy-dio-btn').on('click', function () { t.copy('dio') }); $('#download-btn').on('click', function () { t.download('model') }); $('#download-dio-btn').on('click', function () { t.download('dio') }); $('#theme-select').on('change', function (e) { t.changeTheme($(this).val()) }); $('.tab-btn').on('click', function () { const tab = $(this).data('tab'); t.switchTab(tab) }); $('.method-btn').on('click', function () { $(this).toggleClass('active'); const method = $(this).data('method'); if ($(this).hasClass('active')) { t.dioGen.selectedMethods.add(method) } else { t.dioGen.selectedMethods.delete(method) } if ($('#gen-dio').is(':checked')) { t.generateDioCode() } });['gen-json', 'gen-cpy', 'gen-ts', 'gen-key', 'use-num', 'use-serializable', 'use-equatable', 'use-default', 'gen-comment', 'use-base-model', 'gen-dio', 'gen-error', 'gen-loading', 'gen-interceptor'].forEach(function (e) { $('#' + e).on('change', function () { t.dbc() }) });['base-url', 'endpoint'].forEach(function (e) { $('#' + e).on('input', function () { if ($('#gen-dio').is(':checked')) { clearTimeout(t.dioTimeout); t.dioTimeout = setTimeout(() => t.generateDioCode(), 500) } }) }) } switchTab(tab) { $('.tab-btn').removeClass('active'); $('.tab-btn[data-tab="' + tab + '"]').addClass('active'); $('.tab-content').removeClass('active'); $('.tab-content[data-content="' + tab + '"]').addClass('active') } showNotification(message) { const $notif = $('#notification'); $notif.text(message).addClass('show'); setTimeout(() => { $notif.removeClass('show') }, 2000) } changeTheme(e) { const t = { tomorrow: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css", dracula: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-dracula.min.css", monokai: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css", solarized: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-solarizedlight.min.css", nord: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-nord.min.css", "night-owl": "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" }[e]; $('#theme-link').attr('href', t); localStorage.setItem("dart-theme", e); const s = $('#dart-code'); if (s.text()) { Prism.highlightElement(s[0]) } const d = $('#dio-code'); if (d.text()) { Prism.highlightElement(d[0]) } } dbc() { const t = this; clearTimeout(this.t); this.t = setTimeout(function () { const e = $('#json-input'); if (e.length && e.val().trim()) { t.conv() } }, 300) } loadS() { const e = localStorage.getItem("dart-theme") || "tomorrow"; $('#theme-select').val(e); this.changeTheme(e); $('#json-input').val(JSON.stringify({ id: 1, name: "John Doe", email: "john@example.com", username: "johndoe", age: 30, isActive: true, phone: { mobile: "+1234567890", home: "+0987654321" }, address: { street: "123 Main St", city: "New York", zipCode: "10001", coordinates: { lat: 40.7128, lng: -74.006 } }, tags: ["developer", "designer"], createdAt: "2024-01-01T00:00:00Z" }, null, 2)) } conv() { const t = this; const e = $('#json-input').val().trim(); const s = $('#class-name').val().trim() || "Model"; if (!e) { this.showNotification('❌ Please enter JSON data'); return } try { const a = { generateToJson: $('#gen-json').is(':checked'), generateCopyWith: $('#gen-cpy').is(':checked'), generateToString: $('#gen-ts').is(':checked'), generateKeys: $('#gen-key').is(':checked'), useNum: $('#use-num').is(':checked'), useSerializable: $('#use-serializable').is(':checked'), useEquatable: $('#use-equatable').is(':checked'), useDefaultValue: $('#use-default').is(':checked'), generateComment: $('#gen-comment').is(':checked'), useBaseModel: $('#use-base-model').is(':checked') }; this.gen.gen(s, e, a).then(function (code) { $('#dart-output').val(code); $('#dart-code').text(code); Prism.highlightElement($('#dart-code')[0]); $('#dart-output').addClass('hidden'); $('#dart-output-pre').addClass('active'); t.addH(s, e); t.showNotification('✅ Model generated successfully!'); if ($('#gen-dio').is(':checked')) { t.generateDioCode() } }) } catch (e) { const errorText = "// Error: " + e.message; $('#dart-output').val(errorText); $('#dart-code').text(errorText); $('#dart-output').removeClass('hidden'); $('#dart-output-pre').removeClass('active'); this.showNotification('❌ Invalid JSON format') } } generateDioCode() { const className = $('#class-name').val().trim() || "Model"; const options = { generateError: $('#gen-error').is(':checked'), generateLoading: $('#gen-loading').is(':checked'), generateInterceptor: $('#gen-interceptor').is(':checked') }; const dioCode = this.dioGen.generateService(className, options); $('#dio-output').val(dioCode); $('#dio-code').text(dioCode); Prism.highlightElement($('#dio-code')[0]); $('#dio-output').addClass('hidden'); $('#dio-output-pre').addClass('active') } copy(type) { const code = type === 'model' ? $('#dart-output').val() : $('#dio-output').val(); const btnId = type === 'model' ? '#copy-btn' : '#copy-dio-btn'; navigator.clipboard.writeText(code).then(() => { const $btn = $(btnId); const originalText = $btn.text(); $btn.text('✅ Copied!'); this.showNotification('📋 Code copied to clipboard!'); setTimeout(() => { $btn.text(originalText) }, 2000) }).catch(() => { const $textarea = type === 'model' ? $('#dart-output') : $('#dio-output'); $textarea.select(); document.execCommand('copy'); this.showNotification('📋 Code copied!') }) } download(type) { const code = type === 'model' ? $('#dart-output').val() : $('#dio-output').val(); const className = $('#class-name').val().trim() || "Model"; const filename = type === 'model' ? `${className.toLowerCase()}.dart` : `${className.toLowerCase()}_service.dart`; const blob = new Blob([code], { type: 'text/plain' }); const url = window.URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = filename; a.click(); window.URL.revokeObjectURL(url); this.showNotification(`💾 Downloaded ${filename}`) } addH(e, t) { const s = { className: e, json: t, time: (new Date).toLocaleString() }; this.his.unshift(s); if (this.his.length > 10) { this.his = this.his.slice(0, 10) } this.saveH(); this.renH() } renH() { const t = this; $('#history-list').html(this.his.map(function (e, s) { return `<div class="history-item" onclick="app.selH(${s})">${e.className}</div>` }).join('')) } selH(e) { const t = this.his[e]; $('#class-name').val(t.className); $('#json-input').val(t.json); this.conv() } saveH() { try { localStorage.setItem("dart-history", JSON.stringify(this.his)) } catch (e) { } } loadH() { try { this.his = JSON.parse(localStorage.getItem("dart-history") || "[]"); this.renH() } catch (e) { this.his = [] } } }

        const app = new App;
    </script>
</body>

</html> -->

<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dart QuickType Pro</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet"
        id="theme-link">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1e1e2e 0%, #2a1a3d 100%);
            color: #e0e0e0;
            overflow: hidden
        }

        .navbar {
            background: linear-gradient(90deg, #1a1a2e 0%, #2d1b3d 100%);
            padding: 1rem 2rem;
            border-bottom: 2px solid #3d2f5a;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3)
        }

        .navbar-brand {
            color: #fff;
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 1px
        }

        .nav-badge {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: #fff;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 0.5rem;
            display: inline-block
        }

        .main-container {
            display: flex;
            height: calc(100vh - 70px)
        }

        .content-area {
            flex: 1;
            display: flex;
            gap: 0
        }

        .panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 1.5rem;
            overflow: hidden
        }

        .panel.input-panel {
            background: rgba(30, 30, 46, 0.8);
            backdrop-filter: blur(10px);
            border-right: 2px solid #3d2f5a;
            overflow-y: auto
        }

        .panel.output-panel {
            background: rgba(30, 30, 46, 0.8);
            backdrop-filter: blur(10px)
        }

        .panel-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem
        }

        .panel h2 {
            font-size: 1.4rem;
            color: #fff;
            font-weight: 600;
            margin: 0
        }

        .panel-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem
        }

        .theme-selector {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
            background: rgba(52, 58, 64, 0.6);
            padding: 0.75rem;
            border-radius: 10px;
            border: 1px solid #495057
        }

        .theme-selector label {
            color: #e0e0e0;
            font-size: 0.9rem;
            font-weight: 500;
            white-space: nowrap
        }

        .form-control,
        .theme-select {
            background: rgba(52, 58, 64, 0.8);
            border: 1px solid #495057;
            color: #fff;
            padding: 0.65rem 0.9rem;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: all 0.3s ease
        }

        .theme-select {
            cursor: pointer;
            flex: 1
        }

        .form-control {
            margin-bottom: 1rem;
            width: 100%
        }

        .form-control:focus,
        .theme-select:focus {
            outline: 0;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2)
        }

        .theme-select option {
            background: #343a40;
            color: #fff
        }

        .checkboxes-section {
            margin: 1rem 0;
            background: rgba(52, 58, 64, 0.4);
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid #495057
        }

        .section-title {
            font-size: 0.85rem;
            color: #adb5bd;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.75rem;
            font-weight: 600
        }

        .checkbox-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.65rem;
            margin-bottom: 0.65rem
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            background: rgba(73, 80, 87, 0.3);
            padding: 0.6rem 0.75rem;
            border-radius: 6px;
            transition: all 0.2s ease
        }

        .checkbox-item:hover {
            background: rgba(73, 80, 87, 0.5);
            transform: translateX(2px)
        }

        .checkbox-item input[type=checkbox] {
            width: 1.1rem;
            height: 1.1rem;
            cursor: pointer;
            accent-color: #667eea;
            flex-shrink: 0
        }

        .checkbox-item label {
            color: #e0e0e0;
            font-size: 0.88rem;
            cursor: pointer;
            user-select: none;
            display: flex;
            align-items: center;
            gap: 0.3rem
        }

        .code {
            color: #00d4ff;
            font-family: 'Fira Code', Consolas, monospace;
            font-size: 0.82rem;
            background: rgba(0, 212, 255, 0.1);
            padding: 0.15rem 0.4rem;
            border-radius: 3px
        }

        .tooltip {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 16px;
            height: 16px;
            border: 1px solid #667eea;
            border-radius: 50%;
            font-size: 10px;
            color: #667eea;
            cursor: help;
            margin-left: 0.25rem;
            background: rgba(102, 126, 234, 0.1)
        }

        .tooltip-text {
            visibility: hidden;
            position: absolute;
            bottom: 130%;
            left: 50%;
            transform: translateX(-50%);
            background: #1a1d20;
            color: #fff;
            padding: 0.6rem;
            border-radius: 6px;
            border: 1px solid #667eea;
            width: 240px;
            font-size: 0.75rem;
            z-index: 1000;
            white-space: normal;
            text-align: left;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5)
        }

        .tooltip:hover .tooltip-text {
            visibility: visible
        }

        .editor-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0
        }

        .editor {
            flex: 1;
            background: rgba(30, 30, 30, 0.9);
            border: 1px solid #495057;
            color: #d4d4d4;
            padding: 1.2rem;
            font-family: 'Fira Code', Consolas, Monaco, monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            resize: none;
            outline: 0;
            overflow: auto;
            border-radius: 8px;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3)
        }

        .editor:focus {
            border-color: #667eea;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3), 0 0 0 3px rgba(102, 126, 234, 0.2)
        }

        #dart-output-pre,
        #dio-output-pre {
            flex: 1;
            background: rgba(30, 30, 30, 0.9);
            border: 1px solid #495057;
            overflow: auto;
            margin: 0;
            display: none;
            border-radius: 8px;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3)
        }

        #dart-output-pre.active,
        #dio-output-pre.active {
            display: block
        }

        #dart-output.hidden,
        #dio-output.hidden {
            display: none
        }

        pre[class*=language-] {
            background: rgba(30, 30, 30, 0.9) !important;
            margin: 0;
            padding: 1.2rem;
            height: 100%
        }

        code[class*=language-] {
            color: #d4d4d4;
            font-family: 'Fira Code', Consolas, Monaco, monospace;
            font-size: 0.9rem;
            line-height: 1.6
        }

        .btn-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
            margin-top: 1rem
        }

        .btn {
            padding: 0.8rem;
            border: none;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s
        }

        .btn:hover::before {
            width: 300px;
            height: 300px
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3)
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4)
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: #fff;
            box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3)
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(245, 87, 108, 0.4)
        }

        .btn-full {
            width: 100%;
            grid-column: 1 / -1
        }

        .tabs-container {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            background: rgba(52, 58, 64, 0.4);
            padding: 0.5rem;
            border-radius: 10px;
            border: 1px solid #495057
        }

        .tab-btn {
            flex: 1;
            padding: 0.65rem;
            border: none;
            background: transparent;
            color: #adb5bd;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3)
        }

        .tab-btn:hover:not(.active) {
            background: rgba(73, 80, 87, 0.5);
            color: #fff
        }

        .tab-content {
            display: none;
            flex: 1;
            flex-direction: column;
            min-height: 0
        }

        .tab-content.active {
            display: flex
        }

        .dio-section {
            background: rgba(52, 58, 64, 0.4);
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid #495057;
            margin-bottom: 1rem
        }

        .dio-input-group {
            margin-bottom: 0.75rem
        }

        .dio-input-group label {
            display: block;
            color: #adb5bd;
            font-size: 0.85rem;
            margin-bottom: 0.4rem;
            font-weight: 500
        }

        .dio-input-group input,
        .dio-input-group select {
            width: 100%;
            background: rgba(52, 58, 64, 0.8);
            border: 1px solid #495057;
            color: #fff;
            padding: 0.6rem 0.8rem;
            border-radius: 6px;
            font-size: 0.9rem;
            transition: all 0.3s ease
        }

        .dio-input-group input:focus,
        .dio-input-group select:focus {
            outline: 0;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2)
        }

        .method-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
            margin-bottom: 0rem
        }

        .method-btn {
            padding: 0.7rem;
            border: 2px solid;
            background: transparent;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px
        }

        .method-btn.get {
            border-color: #00c853;
            color: #00c853
        }

        .method-btn.get:hover,
        .method-btn.get.active {
            background: #00c853;
            color: #fff;
            box-shadow: 0 4px 15px rgba(0, 200, 83, 0.3)
        }

        .method-btn.post {
            border-color: #2196f3;
            color: #2196f3
        }

        .method-btn.post:hover,
        .method-btn.post.active {
            background: #2196f3;
            color: #fff;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3)
        }

        .method-btn.put {
            border-color: #ff9800;
            color: #ff9800
        }

        .method-btn.put:hover,
        .method-btn.put.active {
            background: #ff9800;
            color: #fff;
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3)
        }

        .method-btn.delete {
            border-color: #f44336;
            color: #f44336
        }

        .method-btn.delete:hover,
        .method-btn.delete.active {
            background: #f44336;
            color: #fff;
            box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3)
        }

        ::-webkit-scrollbar {
            width: 12px;
            height: 12px
        }

        ::-webkit-scrollbar-track {
            background: rgba(33, 33, 33, 0.5);
            border-radius: 10px
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%)
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px)
            }

            to {
                opacity: 1;
                transform: translateY(0)
            }
        }

        .panel {
            animation: slideIn 0.3s ease
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #00c853 0%, #00e676 100%);
            color: #fff;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 200, 83, 0.3);
            z-index: 9999;
            opacity: 0;
            transform: translateX(400px);
            transition: all 0.3s ease;
            font-weight: 500
        }

        .notification.show {
            opacity: 1;
            transform: translateX(0)
        }

        .dio-scrollable {
            max-height: calc(100vh - 400px);
            overflow-y: auto;
            overflow-x: hidden;
            padding-right: 0.5rem
        }
    </style>
</head>

<body>
    <div class="notification" id="notification"></div>
    <nav class="navbar">
        <div><span class="navbar-brand">JSON TO DART</span><span class="nav-badge">PRO</span></div>
    </nav>
    <div class="main-container">
        <div class="content-area">
            <div class="panel input-panel">
                <div class="panel-header">
                    <div class="panel-icon">⚡</div>
                    <h2>Configuration</h2>
                </div>
                <div class="theme-selector"><label for="theme-select">🎨 Theme:</label><select id="theme-select"
                        class="theme-select">
                        <option value="tomorrow">VS Code Dark</option>
                        <option value="dracula">Dracula</option>
                        <option value="monokai">Monokai</option>
                        <option value="solarized">Solarized Dark</option>
                        <option value="nord">Nord</option>
                        <option value="night-owl">Night Owl</option>
                    </select></div>
                <label
                    style="color: #adb5bd; font-size: 0.85rem; margin-bottom: 0.4rem; display: block; font-weight: 500">📦
                    Class Name</label>
                <input type="text" id="class-name" class="form-control" value="User" placeholder="Enter class name...">
                <div class="checkboxes-section">
                    <div class="section-title">🔧 Model Options</div>
                    <div class="checkbox-row">
                        <div class="checkbox-item"><input type="checkbox" id="gen-json" checked><label
                                for="gen-json">Generate <span class="code">toJson</span></label></div>
                        <div class="checkbox-item"><input type="checkbox" id="use-serializable"><label
                                for="use-serializable">Use <span class="code">JSONSerializable</span></label></div>
                    </div>
                    <div class="checkbox-row">
                        <div class="checkbox-item"><input type="checkbox" id="gen-cpy"><label for="gen-cpy">Generate
                                <span class="code">copyWith</span></label></div>
                        <div class="checkbox-item"><input type="checkbox" id="use-equatable"><label
                                for="use-equatable">Use <span class="code">Equatable</span></label></div>
                    </div>
                    <div class="checkbox-row">
                        <div class="checkbox-item"><input type="checkbox" id="gen-ts"><label for="gen-ts">Generate <span
                                    class="code">toString</span></label></div>
                        <div class="checkbox-item"><input type="checkbox" id="use-default" checked><label
                                for="use-default">Use default value<span class="tooltip">ⓘ<span
                                        class="tooltip-text">Makes properties non-nullable with default
                                        values</span></span></label></div>
                    </div>
                    <div class="checkbox-row">
                        <div class="checkbox-item"><input type="checkbox" id="gen-key"><label for="gen-key">Generate
                                JSON keys</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="gen-comment"><label
                                for="gen-comment">Generate json as comment</label></div>
                    </div>
                    <div class="checkbox-row">
                        <div class="checkbox-item"><input type="checkbox" id="use-num"><label for="use-num">Always use
                                <span class="code">num</span> type</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="use-base-model"><label
                                for="use-base-model">Use Base Model<span class="tooltip">ⓘ<span
                                        class="tooltip-text">Extend from Model with helper methods</span></span></label>
                        </div>
                    </div>
                </div>
                <div class="checkboxes-section">
                    <div class="section-title">🌐 Dio API Options</div>
                    <div class="checkbox-row">
                        <div class="checkbox-item"><input type="checkbox" id="gen-dio"><label for="gen-dio">Generate
                                <span class="code">Dio</span> Service</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="gen-error" checked><label
                                for="gen-error">Error Handling<span class="tooltip">ⓘ<span class="tooltip-text">Add
                                        try-catch with DioException</span></span></label></div>
                    </div>
                    <div class="checkbox-row">
                        <div class="checkbox-item"><input type="checkbox" id="gen-loading"><label
                                for="gen-loading">Loading Example</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="gen-interceptor"><label
                                for="gen-interceptor">Add Interceptors</label></div>
                    </div>
                </div>
                <label
                    style="color: #adb5bd; font-size: 0.85rem; margin-bottom: 0.4rem; display: block; font-weight: 500; margin-top: 1rem">📝
                    JSON Input</label>
                <div class="editor-wrapper"><textarea id="json-input" class="editor"
                        placeholder="Paste your JSON here..."></textarea><button id="convert-btn"
                        class="btn btn-primary btn-full">🚀 Generate Code</button></div>
            </div>
            <div class="panel output-panel">
                <div class="panel-header">
                    <div class="panel-icon">💎</div>
                    <h2>Generated Code</h2>
                </div>
                <div class="tabs-container"><button class="tab-btn active" data-tab="model">📦 Model</button><button
                        class="tab-btn" data-tab="dio">🌐 Dio Service</button></div>
                <div class="tab-content active" data-content="model">
                    <div class="editor-wrapper"><textarea id="dart-output" class="editor hidden" readonly></textarea>
                        <pre id="dart-output-pre"><code id="dart-code" class="language-dart"></code></pre>
                        <div class="btn-group"><button id="copy-btn" class="btn btn-primary">📋 Copy
                                Model</button><button id="download-btn" class="btn btn-secondary">💾 Download</button>
                        </div>
                    </div>
                </div>
                <div class="tab-content" data-content="dio">
                    <div class="dio-scrollable">
                        <div class="dio-section">
                            <div class="dio-input-group"><label>🔗 Base URL</label><input type="text" id="base-url"
                                    placeholder="https://api.example.com" value="https://jsonplaceholder.typicode.com">
                            </div>
                            <div class="dio-input-group"><label>📍 Endpoint</label><input type="text" id="endpoint"
                                    placeholder="/users" value="/users"></div>
                            <div class="dio-input-group"><label>🎯 Select HTTP Methods</label>
                                <div class="method-buttons"><button class="method-btn get active"
                                        data-method="get">GET</button><button class="method-btn post active"
                                        data-method="post">POST</button><button class="method-btn put active"
                                        data-method="put">PUT</button><button class="method-btn delete active"
                                        data-method="delete">DELETE</button></div>
                            </div>
                        </div>
                    </div>
                    <div class="editor-wrapper"><textarea id="dio-output" class="editor hidden" readonly></textarea>
                        <pre id="dio-output-pre"><code id="dio-code" class="language-dart"></code></pre>
                        <div class="btn-group"><button id="copy-dio-btn" class="btn btn-primary">📋 Copy
                                Service</button><button id="download-dio-btn" class="btn btn-secondary">💾
                                Download</button></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-dart.min.js"></script>
    <script>
        class G { constructor() { this.reset() } reset() { this.r = new Map; this.g = []; this.u = new Set; this.s = new Map; this.o = "" } async gen(e, t, s = {}) { try { this.reset(), this.o = t; const a = JSON.parse(t), n = Array.isArray(a) ? a.length > 0 ? a[0] : {} : a; return this.proc(e, n, s), this.out(s) } catch (e) { throw new Error("Invalid JSON: " + e.message) } } proc(e, t, s) { const a = [{ c: e, o: t }], n = new Map; for (; a.length > 0;) { const { c: e, o: t } = a.shift(); if (!t || "object" != typeof t || Array.isArray(t)) continue; const r = this.sid(t); if (n.has(r)) continue; const i = this.uc(e); n.set(r, i), this.s.set(r, i), this.u.add(i); const o = []; Object.entries(t).forEach((([e, t]) => { if (this.iv(e)) { const r = this.tc(e), l = this.ap(e, t, i, n, a, s); o.push({ ...l, n: r, j: e }) } })), this.g.push({ n: i, p: o, s: r }), this.r.set(i, { n: i, p: o }) } } ap(e, t, s, a, n, r) { if (null === t) return { d: "dynamic", v: null }; if ("string" == typeof t) return { d: "String", v: '""' }; if ("boolean" == typeof t) return { d: "bool", v: "false" }; if ("number" == typeof t) return r.useNum ? { d: "num", v: "0" } : { d: Number.isInteger(t) ? "int" : "double", v: Number.isInteger(t) ? "0" : "0.0" }; if (Array.isArray(t)) { if (0 === t.length) return { d: "List<dynamic>", v: "[]" }; const r = t[0]; if ("object" == typeof r && null !== r) { const t = this.sid(r); if (a.has(t)) return { d: `List<${a.get(t)}>`, v: "[]" }; const i = this.nc(e, s); return n.push({ c: i, o: r }), { d: `List<${i}>`, v: "[]" } } return { d: `List<${this.st(r, r)}>`, v: "[]" } } if ("object" == typeof t) { const r = this.sid(t); if (a.has(r)) return { d: a.get(r), v: null }; const i = this.nc(e, s); return n.push({ c: i, o: t }), { d: i, v: null } } return { d: "dynamic", v: null } } nc(e, t) { let s = this.cap(this.tc(e)); const a = e.toLowerCase(); if ("data" === a) return "Datum"; if (["links", "attributes", "relationships"].includes(a)) return t + this.cap(e); if (["author", "user", "profile", "meta", "config", "settings"].includes(a)) return this.cap(e); return s.endsWith("ies") && s.length > 4 ? s = s.slice(0, -3) + "y" : s.match(/(ses|ches|shes|xes)$/) ? s = s.slice(0, -2) : s.endsWith("s") && !s.endsWith("ss") && s.length > 3 && (s = s.slice(0, -1)), s } out(e) { let t = this.imp(e); return this.g.forEach(((s, a) => { a > 0 && (t += "\n\n"), t += this.cls(s, e) })), e.generateComment && (t += "\n\n" + this.jc()), t } imp(e) { const t = []; return e.useBaseModel ? t.push("import 'base.dart';") : (e.useSerializable && t.push("import 'package:json_annotation/json_annotation.dart';"), e.useEquatable && t.push("import 'package:equatable/equatable.dart';"), e.useSerializable && (t.push(""), t.push("part 'model.g.dart';"))), t.length > 0 ? t.join("\n") + "\n\n" : "" } cls(e, t) { return t.useBaseModel ? this.bm(e, t) : this.std(e, t) } bm(e, t) { const { n: s, p: a } = e; let n = `class ${s} extends Model {\n`; a.forEach((e => { n += `    late ${e.d} ${e.n};\n` })), n += `\n    ${s}.fromJson([Map<String, dynamic>? json]) {\n`; const r = a.some((e => "id" === e.n)); return r || (n += '        id = stringFromJson(json, "id");\n'), a.forEach((e => { n += `        ${e.n} = ${this.bh(e, t)};\n` })), n += "    }\n", t.generateToJson && (n += "\n    @override\n    Map<String, dynamic> toJson() => {\n", r || (n += '        "id": id,\n'), a.forEach((e => { n += `        "${e.j}": ${this.tv(e)},\n` })), n += "    };\n"), n += "\n}", n } bh(e, t) { const { d: s, j: a, v: n } = e; if ("String" === s) return t.useDefaultValue && n ? `stringFromJson(json, "${a}") ?? ${n}` : `stringFromJson(json, "${a}")`; if ("int" === s) return t.useDefaultValue && n ? `intFromJson(json, "${a}") ?? ${n}` : `intFromJson(json, "${a}")`; if ("double" === s) return t.useDefaultValue && n ? `doubleFromJson(json, "${a}") ?? ${n}` : `doubleFromJson(json, "${a}")`; if ("bool" === s) return t.useDefaultValue && n ? `boolFromJson(json, "${a}") ?? ${n}` : `boolFromJson(json, "${a}")`; if (s.startsWith("List<")) { const e = s.match(/List<(.+)>/)[1]; return this.ipt(e) ? `(json?["${a}"] as List?)?.cast<${e}>() ?? []` : `listFromJson(json, "${a}", callback: (e) => ${e}.fromJson(e))` } return `${s}.fromJson(json?["${a}"])` } std(e, t) { const { n: s, p: a } = e; let n = ""; t.useSerializable && (n += "@JsonSerializable()\n"); const r = t.useEquatable ? " extends Equatable" : ""; n += `class ${s}${r} {\n`, n += `    ${s}({\n`, a.forEach((e => { const s = t.useDefaultValue ? "" : "required "; n += `        ${s}this.${e.n},\n` })), n += "    });\n\n", a.forEach(((e, i) => { t.generateKeys && t.useSerializable && (n += `    @JsonKey(name: '${e.j}')\n`); const s = t.useDefaultValue ? "" : "?"; n += `    final ${e.d}${s} ${e.n};\n`, i < a.length - 1 && (n += "\n") })), n += "\n", n += this.fj(s, a, t), t.generateToJson && (n += "\n" + this.tj(s, a, t)), t.generateCopyWith && (n += "\n" + this.cw(s, a, t)), t.generateToString && (n += "\n" + this.ts(s, a, t)), n += "\n}"; return n } fj(e, t, s) { if (s.useSerializable) return `    factory ${e}.fromJson(Map<String, dynamic> json) => _${e}FromJson(json);\n`; let a = `    factory ${e}.fromJson(Map<String, dynamic> json){ \n`; return a += `        return ${e}(\n`, t.forEach((e => { a += `            ${e.n}: ${this.fv(e, s)},\n` })), a += "        );\n    }\n", a } fv(e, t) { const { d: s, j: a, v: n } = e; if (s.startsWith("List<")) { const e = s.match(/List<(.+)>/)[1]; return this.ipt(e) ? `json["${a}"] == null ? [] : List<${e}>.from(json["${a}"])` : `json["${a}"] == null ? [] : List<${e}>.from(json["${a}"]!.map((x) => ${e}.fromJson(x)))` } return this.ipt(s) ? t.useDefaultValue && n ? `json["${a}"] ?? ${n}` : `json["${a}"]` : `json["${a}"] == null ? null : ${s}.fromJson(json["${a}"])` } tj(e, t, s) { if (s.useSerializable) return `    Map<String, dynamic> toJson() => _${e}ToJson(this);\n`; let a = "    Map<String, dynamic> toJson() => {\n"; return t.forEach((e => { a += `        "${e.j}": ${this.tv(e, s.useDefaultValue)},\n` })), a += "    };\n", a } tv(e, t = !1) { const { d: s, n: a } = e; if (s.startsWith("List<")) { const e = s.match(/List<(.+)>/)[1]; return this.ipt(e) ? a : t ? `${a}.map((x) => x.toJson()).toList()` : `${a}?.map((x) => x.toJson()).toList()` } return this.ipt(s) ? a : t ? `${a}.toJson()` : `${a}?.toJson()` } cw(e, t, s) { let a = `    ${e} copyWith({\n`; return t.forEach((e => { const t = s.useDefaultValue ? "" : "?"; a += `        ${e.d}${t} ${e.n},\n` })), a += `    }) => ${e}(\n`, t.forEach((e => { a += `        ${e.n}: ${e.n} ?? this.${e.n},\n` })), a += "    );\n", a } ts(e, t, s) { if (s.useEquatable) { const e = t.map((e => e.n)).join(", "); return `    @override\n    List<Object?> get props => [${e}];\n` } const a = t.map((e => `${e.n}: \${e.n}`)).join(", "); return `    @override\n    String toString() => '${e}(${a})';\n` } jc() { return JSON.stringify(JSON.parse(this.o), null, 2).split("\n").map((e => "// " + e)).join("\n") } sid(e) { return Object.keys(e).sort().map((t => { const s = e[t]; let a = typeof s; return Array.isArray(s) ? a = s.length > 0 && "object" == typeof s[0] ? "array_object" : "array_primitive" : "object" === a && null !== s && (a = "object"), `${t}:${a}` })).join("|") } st(e, t) { return "string" == typeof e ? "String" : "boolean" == typeof e ? "bool" : "number" == typeof e ? t && t.useNum ? "num" : Number.isInteger(e) ? "int" : "double" : "dynamic" } ipt(e) { return ["String", "int", "double", "bool", "num", "dynamic"].includes(e) } uc(e) { let t = this.cap(this.tc(e)), s = 1; for (; this.u.has(t);)t = this.cap(this.tc(e)) + s++; return t } iv(e) { return /^[a-zA-Z_][a-zA-Z0-9_]*$/.test(e) } tc(e) { return e.replace(/_([a-z])/g, ((e, t) => t.toUpperCase())) } cap(e) { return e.charAt(0).toUpperCase() + e.slice(1) } }

        class DioGenerator { constructor() { this.selectedMethods = new Set(['get', 'post', 'put', 'delete']) } generateService(className, options) { const baseUrl = $('#base-url').val() || 'https://api.example.com'; const endpoint = $('#endpoint').val() || '/users'; const serviceName = className + 'Service'; let code = `import 'package:dio/dio.dart';\nimport '${className.toLowerCase()}.dart';\n\n`; if (options.generateError) { code += `/// Custom exception for API errors\n`; code += `class ApiException implements Exception {\n`; code += `  final String message;\n`; code += `  final int? statusCode;\n`; code += `  final dynamic data;\n\n`; code += `  ApiException(this.message, {this.statusCode, this.data});\n\n`; code += `  @override\n`; code += `  String toString() => 'ApiException: \$message (Status: \$statusCode)';\n`; code += `}\n\n` } code += `/// Service class for ${className} API operations\n`; code += `/// Using Dio package: https://pub.dev/packages/dio\n`; code += `class ${serviceName} {\n`; code += `  late final Dio _dio;\n\n`; code += `  ${serviceName}({Dio? dio}) {\n`; code += `    _dio = dio ?? Dio(BaseOptions(\n`; code += `      baseUrl: '${baseUrl}',\n`; code += `      connectTimeout: const Duration(seconds: 30),\n`; code += `      receiveTimeout: const Duration(seconds: 30),\n`; code += `      headers: {\n`; code += `        'Content-Type': 'application/json',\n`; code += `        'Accept': 'application/json',\n`; code += `      },\n`; code += `    ));\n`; if (options.generateInterceptor) { code += `\n    // Add interceptors for logging and error handling\n`; code += `    _dio.interceptors.add(InterceptorsWrapper(\n`; code += `      onRequest: (options, handler) {\n`; code += `        print('[\${options.method}] \${options.uri}');\n`; code += `        return handler.next(options);\n`; code += `      },\n`; code += `      onResponse: (response, handler) {\n`; code += `        print('[\${response.statusCode}] \${response.requestOptions.uri}');\n`; code += `        return handler.next(response);\n`; code += `      },\n`; code += `      onError: (error, handler) {\n`; code += `        print('ERROR: \${error.message}');\n`; code += `        return handler.next(error);\n`; code += `      },\n`; code += `    ));\n` } code += `  }\n\n`; if (this.selectedMethods.has('get')) { code += `  /// Fetch all ${className}s\n`; code += `  Future<List<${className}>> getAll() async {\n`; if (options.generateError) { code += `    try {\n`; code += `      final response = await _dio.get('${endpoint}');\n`; code += `      \n`; code += `      if (response.statusCode == 200) {\n`; code += `        final List<dynamic> data = response.data is List \n`; code += `          ? response.data \n`; code += `          : response.data['data'] ?? [];\n`; code += `        return data.map((json) => ${className}.fromJson(json)).toList();\n`; code += `      } else {\n`; code += `        throw ApiException('Failed to fetch ${className.toLowerCase()}s', statusCode: response.statusCode);\n`; code += `      }\n`; code += `    } on DioException catch (e) {\n`; code += `      throw ApiException(\n`; code += `        e.message ?? 'Network error occurred',\n`; code += `        statusCode: e.response?.statusCode,\n`; code += `        data: e.response?.data,\n`; code += `      );\n`; code += `    }\n` } else { code += `    final response = await _dio.get('${endpoint}');\n`; code += `    final List<dynamic> data = response.data is List \n`; code += `      ? response.data \n`; code += `      : response.data['data'] ?? [];\n`; code += `    return data.map((json) => ${className}.fromJson(json)).toList();\n` } code += `  }\n\n`; code += `  /// Fetch a single ${className} by ID\n`; code += `  Future<${className}> getById(String id) async {\n`; if (options.generateError) { code += `    try {\n`; code += `      final response = await _dio.get('${endpoint}/\$id');\n`; code += `      \n`; code += `      if (response.statusCode == 200) {\n`; code += `        return ${className}.fromJson(response.data);\n`; code += `      } else {\n`; code += `        throw ApiException('Failed to fetch ${className.toLowerCase()}', statusCode: response.statusCode);\n`; code += `      }\n`; code += `    } on DioException catch (e) {\n`; code += `      throw ApiException(\n`; code += `        e.message ?? 'Network error occurred',\n`; code += `        statusCode: e.response?.statusCode,\n`; code += `        data: e.response?.data,\n`; code += `      );\n`; code += `    }\n` } else { code += `    final response = await _dio.get('${endpoint}/\$id');\n`; code += `    return ${className}.fromJson(response.data);\n` } code += `  }\n\n` } if (this.selectedMethods.has('post')) { code += `  /// Create a new ${className}\n`; code += `  Future<${className}> create(${className} model) async {\n`; if (options.generateError) { code += `    try {\n`; code += `      final response = await _dio.post(\n`; code += `        '${endpoint}',\n`; code += `        data: model.toJson(),\n`; code += `      );\n`; code += `      \n`; code += `      if (response.statusCode == 200 || response.statusCode == 201) {\n`; code += `        return ${className}.fromJson(response.data);\n`; code += `      } else {\n`; code += `        throw ApiException('Failed to create ${className.toLowerCase()}', statusCode: response.statusCode);\n`; code += `      }\n`; code += `    } on DioException catch (e) {\n`; code += `      throw ApiException(\n`; code += `        e.message ?? 'Network error occurred',\n`; code += `        statusCode: e.response?.statusCode,\n`; code += `        data: e.response?.data,\n`; code += `      );\n`; code += `    }\n` } else { code += `    final response = await _dio.post(\n`; code += `      '${endpoint}',\n`; code += `      data: model.toJson(),\n`; code += `    );\n`; code += `    return ${className}.fromJson(response.data);\n` } code += `  }\n\n` } if (this.selectedMethods.has('put')) { code += `  /// Update an existing ${className}\n`; code += `  Future<${className}> update(String id, ${className} model) async {\n`; if (options.generateError) { code += `    try {\n`; code += `      final response = await _dio.put(\n`; code += `        '${endpoint}/\$id',\n`; code += `        data: model.toJson(),\n`; code += `      );\n`; code += `      \n`; code += `      if (response.statusCode == 200) {\n`; code += `        return ${className}.fromJson(response.data);\n`; code += `      } else {\n`; code += `        throw ApiException('Failed to update ${className.toLowerCase()}', statusCode: response.statusCode);\n`; code += `      }\n`; code += `    } on DioException catch (e) {\n`; code += `      throw ApiException(\n`; code += `        e.message ?? 'Network error occurred',\n`; code += `        statusCode: e.response?.statusCode,\n`; code += `        data: e.response?.data,\n`; code += `      );\n`; code += `    }\n` } else { code += `    final response = await _dio.put(\n`; code += `      '${endpoint}/\$id',\n`; code += `      data: model.toJson(),\n`; code += `    );\n`; code += `    return ${className}.fromJson(response.data);\n` } code += `  }\n\n` } if (this.selectedMethods.has('delete')) { code += `  /// Delete a ${className} by ID\n`; code += `  Future<bool> delete(String id) async {\n`; if (options.generateError) { code += `    try {\n`; code += `      final response = await _dio.delete('${endpoint}/\$id');\n`; code += `      return response.statusCode == 200 || response.statusCode == 204;\n`; code += `    } on DioException catch (e) {\n`; code += `      throw ApiException(\n`; code += `        e.message ?? 'Network error occurred',\n`; code += `        statusCode: e.response?.statusCode,\n`; code += `        data: e.response?.data,\n`; code += `      );\n`; code += `    }\n` } else { code += `    final response = await _dio.delete('${endpoint}/\$id');\n`; code += `    return response.statusCode == 200 || response.statusCode == 204;\n` } code += `  }\n\n` } code += `}\n`; if (options.generateLoading) { code += `\n/*\n/// Example usage with state management:\nclass ${className}Controller {\n  final ${serviceName} _service = ${serviceName}();\n  bool isLoading = false;\n  String? error;\n  List<${className}> items = [];\n  \n  Future<void> fetchAll() async {\n    isLoading = true;\n    error = null;\n    try {\n      items = await _service.getAll();\n    } on ApiException catch (e) {\n      error = e.message;\n    } finally {\n      isLoading = false;\n    }\n  }\n  \n  Future<void> createItem(${className} item) async {\n    isLoading = true;\n    error = null;\n    try {\n      final created = await _service.create(item);\n      items.add(created);\n    } on ApiException catch (e) {\n      error = e.message;\n    } finally {\n      isLoading = false;\n    }\n  }\n}\n*/\n` } return code } }

        class App { constructor() { this.gen = new G; this.dioGen = new DioGenerator; this.his = []; this.init() } init() { this.loadH(); this.bind(); this.loadS() } bind() { const t = this; $('#convert-btn').on('click', function () { t.conv() }); $('#copy-btn').on('click', function () { t.copy('model') }); $('#copy-dio-btn').on('click', function () { t.copy('dio') }); $('#download-btn').on('click', function () { t.download('model') }); $('#download-dio-btn').on('click', function () { t.download('dio') }); $('#theme-select').on('change', function (e) { t.changeTheme($(this).val()) }); $('.tab-btn').on('click', function () { const tab = $(this).data('tab'); t.switchTab(tab) }); $('.method-btn').on('click', function () { $(this).toggleClass('active'); const method = $(this).data('method'); if ($(this).hasClass('active')) { t.dioGen.selectedMethods.add(method) } else { t.dioGen.selectedMethods.delete(method) } if ($('#gen-dio').is(':checked')) { t.generateDioCode() } });['gen-json', 'gen-cpy', 'gen-ts', 'gen-key', 'use-num', 'use-serializable', 'use-equatable', 'use-default', 'gen-comment', 'use-base-model', 'gen-dio', 'gen-error', 'gen-loading', 'gen-interceptor'].forEach(function (e) { $('#' + e).on('change', function () { t.dbc() }) });['base-url', 'endpoint'].forEach(function (e) { $('#' + e).on('input', function () { if ($('#gen-dio').is(':checked')) { clearTimeout(t.dioTimeout); t.dioTimeout = setTimeout(() => t.generateDioCode(), 500) } }) }) } switchTab(tab) { $('.tab-btn').removeClass('active'); $('.tab-btn[data-tab="' + tab + '"]').addClass('active'); $('.tab-content').removeClass('active'); $('.tab-content[data-content="' + tab + '"]').addClass('active') } showNotification(message) { const $notif = $('#notification'); $notif.text(message).addClass('show'); setTimeout(() => { $notif.removeClass('show') }, 2000) } changeTheme(e) { const t = { tomorrow: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css", dracula: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-dracula.min.css", monokai: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css", solarized: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-solarizedlight.min.css", nord: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-nord.min.css", "night-owl": "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" }[e]; $('#theme-link').attr('href', t); localStorage.setItem("dart-theme", e); const s = $('#dart-code'); if (s.text()) { Prism.highlightElement(s[0]) } const d = $('#dio-code'); if (d.text()) { Prism.highlightElement(d[0]) } } dbc() { const t = this; clearTimeout(this.t); this.t = setTimeout(function () { const e = $('#json-input'); if (e.length && e.val().trim()) { t.conv() } }, 300) } loadS() { const e = localStorage.getItem("dart-theme") || "tomorrow"; $('#theme-select').val(e); this.changeTheme(e); $('#json-input').val(JSON.stringify({ id: 1, name: "John Doe", email: "john@example.com", username: "johndoe", age: 30, isActive: true, phone: { mobile: "+1234567890", home: "+0987654321" }, address: { street: "123 Main St", city: "New York", zipCode: "10001", coordinates: { lat: 40.7128, lng: -74.006 } }, tags: ["developer", "designer"], createdAt: "2024-01-01T00:00:00Z" }, null, 2)) } conv() { const t = this; const e = $('#json-input').val().trim(); const s = $('#class-name').val().trim() || "Model"; if (!e) { this.showNotification('❌ Please enter JSON data'); return } try { const a = { generateToJson: $('#gen-json').is(':checked'), generateCopyWith: $('#gen-cpy').is(':checked'), generateToString: $('#gen-ts').is(':checked'), generateKeys: $('#gen-key').is(':checked'), useNum: $('#use-num').is(':checked'), useSerializable: $('#use-serializable').is(':checked'), useEquatable: $('#use-equatable').is(':checked'), useDefaultValue: $('#use-default').is(':checked'), generateComment: $('#gen-comment').is(':checked'), useBaseModel: $('#use-base-model').is(':checked') }; this.gen.gen(s, e, a).then(function (code) { $('#dart-output').val(code); $('#dart-code').text(code); Prism.highlightElement($('#dart-code')[0]); $('#dart-output').addClass('hidden'); $('#dart-output-pre').addClass('active'); t.addH(s, e); t.showNotification('✅ Model generated successfully!'); if ($('#gen-dio').is(':checked')) { t.generateDioCode() } }) } catch (e) { const errorText = "// Error: " + e.message; $('#dart-output').val(errorText); $('#dart-code').text(errorText); $('#dart-output').removeClass('hidden'); $('#dart-output-pre').removeClass('active'); this.showNotification('❌ Invalid JSON format') } } generateDioCode() { const className = $('#class-name').val().trim() || "Model"; const options = { generateError: $('#gen-error').is(':checked'), generateLoading: $('#gen-loading').is(':checked'), generateInterceptor: $('#gen-interceptor').is(':checked') }; const dioCode = this.dioGen.generateService(className, options); $('#dio-output').val(dioCode); $('#dio-code').text(dioCode); Prism.highlightElement($('#dio-code')[0]); $('#dio-output').addClass('hidden'); $('#dio-output-pre').addClass('active') } copy(type) { const code = type === 'model' ? $('#dart-output').val() : $('#dio-output').val(); const btnId = type === 'model' ? '#copy-btn' : '#copy-dio-btn'; navigator.clipboard.writeText(code).then(() => { const $btn = $(btnId); const originalText = $btn.text(); $btn.text('✅ Copied!'); this.showNotification('📋 Code copied to clipboard!'); setTimeout(() => { $btn.text(originalText) }, 2000) }).catch(() => { const $textarea = type === 'model' ? $('#dart-output') : $('#dio-output'); $textarea.select(); document.execCommand('copy'); this.showNotification('📋 Code copied!') }) } download(type) { const code = type === 'model' ? $('#dart-output').val() : $('#dio-output').val(); const className = $('#class-name').val().trim() || "Model"; const filename = type === 'model' ? `${className.toLowerCase()}.dart` : `${className.toLowerCase()}_service.dart`; const blob = new Blob([code], { type: 'text/plain' }); const url = window.URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = filename; a.click(); window.URL.revokeObjectURL(url); this.showNotification(`💾 Downloaded ${filename}`) } addH(e, t) { const s = { className: e, json: t, time: (new Date).toLocaleString() }; this.his.unshift(s); if (this.his.length > 10) { this.his = this.his.slice(0, 10) } this.saveH(); this.renH() } renH() { const t = this; $('#history-list').html(this.his.map(function (e, s) { return `<div class="history-item" onclick="app.selH(${s})">${e.className}</div>` }).join('')) } selH(e) { const t = this.his[e]; $('#class-name').val(t.className); $('#json-input').val(t.json); this.conv() } saveH() { try { localStorage.setItem("dart-history", JSON.stringify(this.his)) } catch (e) { } } loadH() { try { this.his = JSON.parse(localStorage.getItem("dart-history") || "[]"); this.renH() } catch (e) { this.his = [] } } }

        const app = new App;
    </script>
</body>

</html> -->

<!-- <!DOCTYPE html>
// <html lang="en">

// <head>
//     <meta charset="UTF-8">
//     <meta name="viewport" content="width=device-width, initial-scale=1.0">
//     <title>Dart QuickType</title>
//     <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet"
//         id="theme-link">
//     <style>
//         * {
//             margin: 0;
//             padding: 0;
//             box-sizing: border-box
//         }

//         body {
//             font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
//             background: #212529;
//             color: #e0e0e0;
//             overflow: hidden
//         }

//         .navbar {
//             background: #1a1a1a;
//             padding: .75rem 1.5rem;
//             border-bottom: 1px solid #2d2d2d;
//             display: flex;
//             justify-content: space-between;
//             align-items: center
//         }

//         .navbar-brand {
//             color: #fff;
//             font-size: 1.2rem;
//             font-weight: 600
//         }

//         .nav-links {
//             display: flex;
//             gap: 1.5rem
//         }

//         .nav-link {
//             color: #adb5bd;
//             text-decoration: none;
//             font-size: .9rem
//         }

//         .nav-link:hover {
//             color: #fff
//         }

//         .main-container {
//             display: flex;
//             height: calc(100vh - 54px)
//         }

//         .history-panel {
//             width: 200px;
//             background: #1a1a1a;
//             border-right: 1px solid #2d2d2d;
//             padding: 1.25rem;
//             overflow-y: auto;
//             flex-shrink: 0
//         }

//         .history-panel h2 {
//             font-size: 1.5rem;
//             margin-bottom: 1rem;
//             color: #fff;
//             font-weight: 400
//         }

//         .history-item {
//             background: 0 0;
//             border: 1px solid #495057;
//             color: #fff;
//             padding: .5rem .75rem;
//             margin-bottom: .5rem;
//             cursor: pointer;
//             font-size: .9rem;
//             transition: background .15s
//         }

//         .history-item:hover {
//             background: #2d2d2d
//         }

//         .content-area {
//             flex: 1;
//             display: flex;
//             gap: 0
//         }

//         .panel {
//             flex: 1;
//             display: flex;
//             flex-direction: column;
//             padding: 1.25rem;
//             overflow: hidden
//         }

//         .panel.input-panel {
//             background: #212529;
//             border-right: 1px solid #2d2d2d
//         }

//         .panel.output-panel {
//             background: #212529
//         }

//         .panel h2 {
//             font-size: 1.5rem;
//             margin-bottom: .75rem;
//             color: #fff;
//             font-weight: 400
//         }

//         .theme-selector {
//             display: flex;
//             align-items: center;
//             gap: .5rem;
//             margin-bottom: .75rem
//         }

//         .theme-selector label {
//             color: #e0e0e0;
//             font-size: .9rem;
//             white-space: nowrap
//         }

//         .form-control,
//         .theme-select {
//             background: #343a40;
//             border: 1px solid #495057;
//             color: #fff;
//             padding: .5rem .75rem;
//             border-radius: .25rem;
//             font-size: .95rem
//         }

//         .theme-select {
//             cursor: pointer;
//             flex: 1
//         }

//         .form-control {
//             margin-bottom: .75rem;
//             width: 100%
//         }

//         .form-control:focus,
//         .theme-select:focus {
//             outline: 0;
//             border-color: #0d6efd
//         }

//         .theme-select option {
//             background: #343a40;
//             color: #fff
//         }

//         .checkboxes-section {
//             margin: .75rem 0
//         }

//         .checkbox-row {
//             display: grid;
//             grid-template-columns: 1fr 1fr;
//             gap: .5rem;
//             margin-bottom: .75rem
//         }

//         .checkbox-item {
//             display: flex;
//             align-items: center;
//             gap: .5rem
//         }

//         .checkbox-item input[type=checkbox] {
//             width: 1rem;
//             height: 1rem;
//             cursor: pointer;
//             accent-color: #0d6efd;
//             flex-shrink: 0
//         }

//         .checkbox-item label {
//             color: #e0e0e0;
//             font-size: .9rem;
//             cursor: pointer;
//             user-select: none;
//             display: flex;
//             align-items: center;
//             gap: .25rem
//         }

//         .code {
//             color: #00d4ff;
//             font-family: Consolas, monospace;
//             font-size: .85rem
//         }

//         .tooltip {
//             position: relative;
//             display: inline-flex;
//             align-items: center;
//             justify-content: center;
//             width: 16px;
//             height: 16px;
//             border: 1px solid #6c757d;
//             border-radius: 50%;
//             font-size: 11px;
//             color: #adb5bd;
//             cursor: help;
//             margin-left: .25rem
//         }

//         .tooltip-text {
//             visibility: hidden;
//             position: absolute;
//             bottom: 130%;
//             left: 50%;
//             transform: translateX(-50%);
//             background: #1a1d20;
//             color: #fff;
//             padding: .5rem;
//             border-radius: .25rem;
//             border: 1px solid #495057;
//             width: 220px;
//             font-size: .75rem;
//             z-index: 1000;
//             white-space: normal;
//             text-align: left
//         }

//         .tooltip:hover .tooltip-text {
//             visibility: visible
//         }

//         .editor-wrapper {
//             flex: 1;
//             display: flex;
//             flex-direction: column;
//             min-height: 0
//         }

//         .editor {
//             flex: 1;
//             background: #1e1e1e;
//             border: 1px solid #495057;
//             color: #d4d4d4;
//             padding: 1rem;
//             font-family: Consolas, Monaco, monospace;
//             font-size: .9rem;
//             line-height: 1.5;
//             resize: none;
//             outline: 0;
//             overflow: auto
//         }

//         #dart-output-pre {
//             flex: 1;
//             background: #1e1e1e;
//             border: 1px solid #495057;
//             overflow: auto;
//             margin: 0;
//             display: none
//         }

//         #dart-output-pre.active {
//             display: block
//         }

//         #dart-output.hidden {
//             display: none
//         }

//         pre[class*=language-] {
//             background: #1e1e1e !important;
//             margin: 0;
//             padding: 1rem;
//             height: 100%
//         }

//         code[class*=language-] {
//             color: #d4d4d4;
//             font-family: Consolas, Monaco, monospace;
//             font-size: .9rem;
//             line-height: 1.5
//         }

//         .btn {
//             width: 100%;
//             padding: .65rem;
//             margin-top: .75rem;
//             border: none;
//             border-radius: .25rem;
//             font-size: .95rem;
//             font-weight: 500;
//             cursor: pointer;
//             transition: background .15s
//         }

//         .btn-primary {
//             background: #0d6efd;
//             color: #fff
//         }

//         .btn-primary:hover {
//             background: #0b5ed7
//         }

//         ::-webkit-scrollbar {
//             width: 10px;
//             height: 10px
//         }

//         ::-webkit-scrollbar-track {
//             background: #212529
//         }

//         ::-webkit-scrollbar-thumb {
//             background: #495057
//         }
//     </style>
// </head>

// <body>
//     <nav class="navbar">
//         <div class="navbar-brand">JSON TO DART</div>
//     </nav>
//     <div class="main-container">
//         <div class="content-area">
//             <div class="panel input-panel">
//                 <div class="theme-selector"><label for="theme-select">Theme:</label><select id="theme-select"
//                         class="theme-select">
//                         <option value="tomorrow">VS Code Dark</option>
//                         <option value="dracula">Dracula</option>
//                         <option value="monokai">Monokai</option>
//                         <option value="solarized">Solarized Dark</option>
//                         <option value="nord">Nord</option>
//                         <option value="night-owl">Night Owl</option>
//                     </select></div>
//                 <h2>Class name</h2><input type="text" id="class-name" class="form-control" value="Model">
//                 <div class="checkboxes-section">
//                     <div class="checkbox-row">
//                         <div class="checkbox-item"><input type="checkbox" id="gen-json" checked><label
//                                 for="gen-json">Generate <span class="code">toJson</span> method</label></div>
//                         <div class="checkbox-item"><input type="checkbox" id="use-serializable"><label
//                                 for="use-serializable">Use <span class="code">JSONSerializable</span></label></div>
//                     </div>
//                     <div class="checkbox-row">
//                         <div class="checkbox-item"><input type="checkbox" id="gen-cpy"><label for="gen-cpy">Generate
//                                 <span class="code">copyWith</span> method</label></div>
//                         <div class="checkbox-item"><input type="checkbox" id="use-equatable"><label
//                                 for="use-equatable">Use <span class="code">Equatable</span></label></div>
//                     </div>
//                     <div class="checkbox-row">
//                         <div class="checkbox-item"><input type="checkbox" id="gen-ts"><label for="gen-ts">Generate <span
//                                     class="code">toString</span> method</label></div>
//                         <div class="checkbox-item"><input type="checkbox" id="use-default" checked><label
//                                 for="use-default">Use default value<span class="tooltip">ⓘ<span
//                                         class="tooltip-text">Makes properties non-nullable with default
//                                         values</span></span></label></div>
//                     </div>
//                     <div class="checkbox-row">
//                         <div class="checkbox-item"><input type="checkbox" id="gen-key"><label for="gen-key">Generate
//                                 JSON keys</label></div>
//                         <div class="checkbox-item"><input type="checkbox" id="gen-comment"><label
//                                 for="gen-comment">Generate json as comment</label></div>
//                     </div>
//                     <div class="checkbox-row">
//                         <div class="checkbox-item"><input type="checkbox" id="use-num"><label for="use-num">Always use
//                                 <span class="code">num</span> type</label></div>
//                         <div class="checkbox-item"><input type="checkbox" id="use-base-model"><label
//                                 for="use-base-model">Use Base Model<span class="tooltip">ⓘ<span
//                                         class="tooltip-text">Extend from Model with helper methods</span></span></label>
//                         </div>
//                     </div>
//                 </div>
//                 <div class="editor-wrapper"><textarea id="json-input" class="editor"></textarea><button id="convert-btn"
//                         class="btn btn-primary">Convert</button></div>
//             </div>
//             <div class="panel output-panel">
//                 <h2>Output</h2>
//                 <div class="editor-wrapper"><textarea id="dart-output" class="editor hidden" readonly></textarea>
//                     <pre id="dart-output-pre"><code id="dart-code" class="language-dart"></code></pre><button
//                         id="copy-btn" class="btn btn-primary">Copy Code</button>
//                 </div>
//             </div>
//         </div>
//     </div>
//     <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
//     <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
//     <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-dart.min.js"></script>
//     <script>
//         class G { constructor() { this.reset() } reset() { this.r = new Map; this.g = []; this.u = new Set; this.s = new Map; this.o = "" } async gen(e, t, s = {}) { try { this.reset(), this.o = t; const a = JSON.parse(t), n = Array.isArray(a) ? a.length > 0 ? a[0] : {} : a; return this.proc(e, n, s), this.out(s) } catch (e) { throw new Error("Invalid JSON: " + e.message) } } proc(e, t, s) { const a = [{ c: e, o: t }], n = new Map; for (; a.length > 0;) { const { c: e, o: t } = a.shift(); if (!t || "object" != typeof t || Array.isArray(t)) continue; const r = this.sid(t); if (n.has(r)) continue; const i = this.uc(e); n.set(r, i), this.s.set(r, i), this.u.add(i); const o = []; Object.entries(t).forEach((([e, t]) => { if (this.iv(e)) { const r = this.tc(e), l = this.ap(e, t, i, n, a, s); o.push({ ...l, n: r, j: e }) } })), this.g.push({ n: i, p: o, s: r }), this.r.set(i, { n: i, p: o }) } } ap(e, t, s, a, n, r) { if (null === t) return { d: "dynamic", v: null }; if ("string" == typeof t) return { d: "String", v: '""' }; if ("boolean" == typeof t) return { d: "bool", v: "false" }; if ("number" == typeof t) return r.useNum ? { d: "num", v: "0" } : { d: Number.isInteger(t) ? "int" : "double", v: Number.isInteger(t) ? "0" : "0.0" }; if (Array.isArray(t)) { if (0 === t.length) return { d: "List<dynamic>", v: "[]" }; const r = t[0]; if ("object" == typeof r && null !== r) { const t = this.sid(r); if (a.has(t)) return { d: `List<${a.get(t)}>`, v: "[]" }; const i = this.nc(e, s); return n.push({ c: i, o: r }), { d: `List<${i}>`, v: "[]" } } return { d: `List<${this.st(r, r)}>`, v: "[]" } } if ("object" == typeof t) { const r = this.sid(t); if (a.has(r)) return { d: a.get(r), v: null }; const i = this.nc(e, s); return n.push({ c: i, o: t }), { d: i, v: null } } return { d: "dynamic", v: null } } nc(e, t) { let s = this.cap(this.tc(e)); const a = e.toLowerCase(); if ("data" === a) return "Datum"; if (["links", "attributes", "relationships"].includes(a)) return t + this.cap(e); if (["author", "user", "profile", "meta", "config", "settings"].includes(a)) return this.cap(e); return s.endsWith("ies") && s.length > 4 ? s = s.slice(0, -3) + "y" : s.match(/(ses|ches|shes|xes)$/) ? s = s.slice(0, -2) : s.endsWith("s") && !s.endsWith("ss") && s.length > 3 && (s = s.slice(0, -1)), s } out(e) { let t = this.imp(e); return this.g.forEach(((s, a) => { a > 0 && (t += "\n\n"), t += this.cls(s, e) })), e.generateComment && (t += "\n\n" + this.jc()), t } imp(e) { const t = []; return e.useBaseModel ? t.push("import 'base.dart';") : (e.useSerializable && t.push("import 'package:json_annotation/json_annotation.dart';"), e.useEquatable && t.push("import 'package:equatable/equatable.dart';"), e.useSerializable && (t.push(""), t.push("part 'model.g.dart';"))), t.length > 0 ? t.join("\n") + "\n\n" : "" } cls(e, t) { return t.useBaseModel ? this.bm(e, t) : this.std(e, t) } bm(e, t) { const { n: s, p: a } = e; let n = `class ${s} extends Model {\n`; a.forEach((e => { n += `    late ${e.d} ${e.n};\n` })), n += `\n    ${s}.fromJson([Map<String, dynamic>? json]) {\n`; const r = a.some((e => "id" === e.n)); return r || (n += '        id = stringFromJson(json, "id");\n'), a.forEach((e => { n += `        ${e.n} = ${this.bh(e, t)};\n` })), n += "    }\n", t.generateToJson && (n += "\n    @override\n    Map<String, dynamic> toJson() => {\n", r || (n += '        "id": id,\n'), a.forEach((e => { n += `        "${e.j}": ${this.tv(e)},\n` })), n += "    };\n"), n += "\n}", n } bh(e, t) { const { d: s, j: a, v: n } = e; if ("String" === s) return t.useDefaultValue && n ? `stringFromJson(json, "${a}") ?? ${n}` : `stringFromJson(json, "${a}")`; if ("int" === s) return t.useDefaultValue && n ? `intFromJson(json, "${a}") ?? ${n}` : `intFromJson(json, "${a}")`; if ("double" === s) return t.useDefaultValue && n ? `doubleFromJson(json, "${a}") ?? ${n}` : `doubleFromJson(json, "${a}")`; if ("bool" === s) return t.useDefaultValue && n ? `boolFromJson(json, "${a}") ?? ${n}` : `boolFromJson(json, "${a}")`; if (s.startsWith("List<")) { const e = s.match(/List<(.+)>/)[1]; return this.ipt(e) ? `(json?["${a}"] as List?)?.cast<${e}>() ?? []` : `listFromJson(json, "${a}", callback: (e) => ${e}.fromJson(e))` } return `${s}.fromJson(json?["${a}"])` } std(e, t) { const { n: s, p: a } = e; let n = ""; t.useSerializable && (n += "@JsonSerializable()\n"); const r = t.useEquatable ? " extends Equatable" : ""; n += `class ${s}${r} {\n`, n += `    ${s}({\n`, a.forEach((e => { const s = t.useDefaultValue ? "" : "required "; n += `        ${s}this.${e.n},\n` })), n += "    });\n\n", a.forEach(((e, i) => { t.generateKeys && t.useSerializable && (n += `    @JsonKey(name: '${e.j}')\n`); const s = t.useDefaultValue ? "" : "?"; n += `    final ${e.d}${s} ${e.n};\n`, i < a.length - 1 && (n += "\n") })), n += "\n", n += this.fj(s, a, t), t.generateToJson && (n += "\n" + this.tj(s, a, t)), t.generateCopyWith && (n += "\n" + this.cw(s, a, t)), t.generateToString && (n += "\n" + this.ts(s, a, t)), n += "\n}"; return n } fj(e, t, s) { if (s.useSerializable) return `    factory ${e}.fromJson(Map<String, dynamic> json) => _$${e}FromJson(json);\n`; let a = `    factory ${e}.fromJson(Map<String, dynamic> json){ \n`; return a += `        return ${e}(\n`, t.forEach((e => { a += `            ${e.n}: ${this.fv(e, s)},\n` })), a += "        );\n    }\n", a } fv(e, t) { const { d: s, j: a, v: n } = e; if (s.startsWith("List<")) { const e = s.match(/List<(.+)>/)[1]; return this.ipt(e) ? `json["${a}"] == null ? [] : List<${e}>.from(json["${a}"])` : `json["${a}"] == null ? [] : List<${e}>.from(json["${a}"]!.map((x) => ${e}.fromJson(x)))` } return this.ipt(s) ? t.useDefaultValue && n ? `json["${a}"] ?? ${n}` : `json["${a}"]` : `json["${a}"] == null ? null : ${s}.fromJson(json["${a}"])` } tj(e, t, s) { if (s.useSerializable) return `    Map<String, dynamic> toJson() => _$${e}ToJson(this);\n`; let a = "    Map<String, dynamic> toJson() => {\n"; return t.forEach((e => { a += `        "${e.j}": ${this.tv(e, s.useDefaultValue)},\n` })), a += "    };\n", a } tv(e, t = !1) { const { d: s, n: a } = e; if (s.startsWith("List<")) { const e = s.match(/List<(.+)>/)[1]; return this.ipt(e) ? a : t ? `${a}.map((x) => x.toJson()).toList()` : `${a}?.map((x) => x.toJson()).toList()` } return this.ipt(s) ? a : t ? `${a}.toJson()` : `${a}?.toJson()` } cw(e, t, s) { let a = `    ${e} copyWith({\n`; return t.forEach((e => { const t = s.useDefaultValue ? "" : "?"; a += `        ${e.d}${t} ${e.n},\n` })), a += `    }) => ${e}(\n`, t.forEach((e => { a += `        ${e.n}: ${e.n} ?? this.${e.n},\n` })), a += "    );\n", a } ts(e, t, s) { if (s.useEquatable) { const e = t.map((e => e.n)).join(", "); return `    @override\n    List<Object?> get props => [${e}];\n` } const a = t.map((e => `${e.n}: \$${e.n}`)).join(", "); return `    @override\n    String toString() => '${e}(${a})';\n` } jc() { return JSON.stringify(JSON.parse(this.o), null, 2).split("\n").map((e => "// " + e)).join("\n") } sid(e) { return Object.keys(e).sort().map((t => { const s = e[t]; let a = typeof s; return Array.isArray(s) ? a = s.length > 0 && "object" == typeof s[0] ? "array_object" : "array_primitive" : "object" === a && null !== s && (a = "object"), `${t}:${a}` })).join("|") } st(e, t) { return "string" == typeof e ? "String" : "boolean" == typeof e ? "bool" : "number" == typeof e ? t && t.useNum ? "num" : Number.isInteger(e) ? "int" : "double" : "dynamic" } ipt(e) { return ["String", "int", "double", "bool", "num", "dynamic"].includes(e) } uc(e) { let t = this.cap(this.tc(e)), s = 1; for (; this.u.has(t);)t = this.cap(this.tc(e)) + s++; return t } iv(e) { return /^[a-zA-Z_][a-zA-Z0-9_]*$/.test(e) } tc(e) { return e.replace(/_([a-z])/g, ((e, t) => t.toUpperCase())) } cap(e) { return e.charAt(0).toUpperCase() + e.slice(1) } }

//         class App {
//             constructor() {
//                 this.gen = new G;
//                 this.his = [];
//                 this.init()
//             }

//             init() {
//                 this.loadH();
//                 this.bind();
//                 this.loadS()
//             }

//             bind() {
//                 const t = this;

//                 $('#convert-btn').on('click', function () {
//                     t.conv()
//                 });

//                 $('#copy-btn').on('click', function () {
//                     t.copy()
//                 });

//                 $('#theme-select').on('change', function (e) {
//                     t.changeTheme($(this).val())
//                 });

//                 ['gen-json', 'gen-cpy', 'gen-ts', 'gen-key', 'use-num', 'use-serializable', 'use-equatable', 'use-default', 'gen-comment', 'use-base-model'].forEach(function (e) {
//                     $('#' + e).on('change', function () {
//                         t.dbc()
//                     })
//                 })
//             }

//             changeTheme(e) {
//                 const t = {
//                     tomorrow: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css",
//                     dracula: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-dracula.min.css",
//                     monokai: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css",
//                     solarized: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-solarizedlight.min.css",
//                     nord: "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-nord.min.css",
//                     "night-owl": "https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
//                 }[e];

//                 $('#theme-link').attr('href', t);
//                 localStorage.setItem("dart-theme", e);

//                 const s = $('#dart-code');
//                 if (s.text()) {
//                     Prism.highlightElement(s[0])
//                 }
//             }

//             dbc() {
//                 const t = this;
//                 clearTimeout(this.t);
//                 this.t = setTimeout(function () {
//                     const e = $('#json-input');
//                     if (e.length && e.val().trim()) {
//                         t.conv()
//                     }
//                 }, 300)
//             }

//             loadS() {
//                 const e = localStorage.getItem("dart-theme") || "tomorrow";
//                 $('#theme-select').val(e);
//                 this.changeTheme(e);

//                 $('#json-input').val(JSON.stringify({
//                     users: [{
//                         id: 1,
//                         firstName: "Emily",
//                         lastName: "Johnson",
//                         age: 28,
//                         hair: { color: "Brown", type: "Curly" },
//                         address: {
//                             address: "626 Main Street",
//                             city: "Phoenix",
//                             coordinates: { lat: -77.16213, lng: -92.084824 }
//                         }
//                     }],
//                     total: 208
//                 }, null, 4))
//             }

//             conv() {
//                 const t = this;
//                 const e = $('#json-input').val().trim();
//                 const s = $('#class-name').val().trim() || "Model";

//                 if (!e) return;

//                 try {
//                     const a = {
//                         generateToJson: $('#gen-json').is(':checked'),
//                         generateCopyWith: $('#gen-cpy').is(':checked'),
//                         generateToString: $('#gen-ts').is(':checked'),
//                         generateKeys: $('#gen-key').is(':checked'),
//                         useNum: $('#use-num').is(':checked'),
//                         useSerializable: $('#use-serializable').is(':checked'),
//                         useEquatable: $('#use-equatable').is(':checked'),
//                         useDefaultValue: $('#use-default').is(':checked'),
//                         generateComment: $('#gen-comment').is(':checked'),
//                         useBaseModel: $('#use-base-model').is(':checked')
//                     };

//                     this.gen.gen(s, e, a).then(function (e) {
//                         $('#dart-output').val(e);
//                         $('#dart-code').text(e);
//                         Prism.highlightElement($('#dart-code')[0]);
//                         $('#dart-output').addClass('hidden');
//                         $('#dart-output-pre').addClass('active');
//                         t.addH(s, e)
//                     })
//                 } catch (e) {
//                     const t = "// Error: " + e.message;
//                     $('#dart-output').val(t);
//                     $('#dart-code').text(t);
//                     $('#dart-output').removeClass('hidden');
//                     $('#dart-output-pre').removeClass('active')
//                 }
//             }

//             copy() {
//                 const e = $('#dart-output').val();
//                 navigator.clipboard.writeText(e).then(function () {
//                     const e = $('#copy-btn');
//                     const t = e.text();
//                     e.text('Copied!');
//                     setTimeout(function () {
//                         e.text(t)
//                     }, 1e3)
//                 }).catch(function () {
//                     const e = $('#dart-output');
//                     e.select();
//                     document.execCommand('copy')
//                 })
//             }

//             addH(e, t) {
//                 const s = {
//                     className: e,
//                     json: t,
//                     time: (new Date).toLocaleString()
//                 };
//                 this.his.unshift(s);
//                 if (this.his.length > 10) {
//                     this.his = this.his.slice(0, 10)
//                 }
//                 this.saveH();
//                 this.renH()
//             }

//             renH() {
//                 const t = this;
//                 $('#history-list').html(this.his.map(function (e, s) {
//                     return `<div class="history-item" onclick="app.selH(${s})">${e.className}</div>`
//                 }).join(''))
//             }

//             selH(e) {
//                 const t = this.his[e];
//                 $('#class-name').val(t.className);
//                 $('#json-input').val(t.json);
//                 this.conv()
//             }

//             saveH() {
//                 try {
//                     localStorage.setItem("dart-history", JSON.stringify(this.his))
//                 } catch (e) { }
//             }

//             loadH() {
//                 try {
//                     this.his = JSON.parse(localStorage.getItem("dart-history") || "[]");
//                     this.renH()
//                 } catch (e) {
//                     this.his = []
//                 }
//             }
//         }

//         const app = new App;
//     </script>
// </body>

// </html> -->